{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _route = _interopRequireDefault(require(\"./config/route.config\"));\nvar _connection = _interopRequireDefault(require(\"./database/connection\"));\nvar _auth = _interopRequireDefault(require(\"./api/auth\"));\nvar _user = _interopRequireDefault(require(\"./api/user\"));\nvar _transaction = _interopRequireDefault(require(\"./api/transaction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nconst money = (0, _express.default)();\n(0, _route.default)(_passport.default);\nmoney.use(_express.default.json());\nmoney.use((0, _expressSession.default)({\n  secret: \"MoneyTracker\"\n}));\nmoney.use(_passport.default.initialize());\nmoney.use(_passport.default.session());\nmoney.get('/', (req, res) => {\n  res.json({\n    message: 'Server is running!!'\n  });\n});\nmoney.use(\"/auth\", _auth.default);\nmoney.use(\"/user\", _user.default);\nmoney.use(\"/trans\", _transaction.default);\nconst PORT = 4000;\nmoney.listen(PORT, () => {\n  (0, _connection.default)().then(() => {\n    console.log('Server is running');\n  }).catch(error => {\n    console.log('Server is running, but database not connected');\n    console.log(error);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJtb25leSIsImV4cHJlc3MiLCJwcml2YXRlUm91dGVDb25maWciLCJwYXNzcG9ydCIsInVzZSIsImpzb24iLCJzZXNzaW9uIiwic2VjcmV0IiwiaW5pdGlhbGl6ZSIsImdldCIsInJlcSIsInJlcyIsIm1lc3NhZ2UiLCJBdXRoIiwiVXNlciIsIlRyYW5zIiwiUE9SVCIsImxpc3RlbiIsIkNvbm5lY3REQiIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tIFwiZXhwcmVzcy1zZXNzaW9uXCI7XHJcbmltcG9ydCBwcml2YXRlUm91dGVDb25maWcgZnJvbSBcIi4vY29uZmlnL3JvdXRlLmNvbmZpZ1wiXHJcblxyXG5pbXBvcnQgQ29ubmVjdERCIGZyb20gXCIuL2RhdGFiYXNlL2Nvbm5lY3Rpb25cIjtcclxuXHJcbmltcG9ydCBBdXRoIGZyb20gXCIuL2FwaS9hdXRoXCI7XHJcbmltcG9ydCBVc2VyIGZyb20gXCIuL2FwaS91c2VyXCI7XHJcbmltcG9ydCBUcmFucyBmcm9tIFwiLi9hcGkvdHJhbnNhY3Rpb25cIjtcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuY29uc3QgbW9uZXkgPSBleHByZXNzKCk7XHJcblxyXG5wcml2YXRlUm91dGVDb25maWcocGFzc3BvcnQpO1xyXG5cclxubW9uZXkudXNlKGV4cHJlc3MuanNvbigpKTtcclxubW9uZXkudXNlKHNlc3Npb24oe3NlY3JldDogXCJNb25leVRyYWNrZXJcIn0pKTtcclxubW9uZXkudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XHJcbm1vbmV5LnVzZShwYXNzcG9ydC5zZXNzaW9uKCkpO1xyXG5cclxubW9uZXkuZ2V0KCcvJywocmVxLHJlcyk9PntcclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiAnU2VydmVyIGlzIHJ1bm5pbmchISdcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbm1vbmV5LnVzZShcIi9hdXRoXCIsIEF1dGgpO1xyXG5tb25leS51c2UoXCIvdXNlclwiLCBVc2VyKTtcclxubW9uZXkudXNlKFwiL3RyYW5zXCIsIFRyYW5zKTtcclxuXHJcbmNvbnN0IFBPUlQgPSA0MDAwO1xyXG5tb25leS5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gICAgQ29ubmVjdERCKClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2VydmVyIGlzIHJ1bm5pbmcnKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBpcyBydW5uaW5nLCBidXQgZGF0YWJhc2Ugbm90IGNvbm5lY3RlZCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDQSxlQUFNLENBQUNDLE1BQU0sRUFBRTtBQUNmLE1BQU1DLEtBQUssR0FBRyxJQUFBQyxnQkFBTyxHQUFFO0FBRXZCLElBQUFDLGNBQWtCLEVBQUNDLGlCQUFRLENBQUM7QUFFNUJILEtBQUssQ0FBQ0ksR0FBRyxDQUFDSCxnQkFBTyxDQUFDSSxJQUFJLEVBQUUsQ0FBQztBQUN6QkwsS0FBSyxDQUFDSSxHQUFHLENBQUMsSUFBQUUsdUJBQU8sRUFBQztFQUFDQyxNQUFNLEVBQUU7QUFBYyxDQUFDLENBQUMsQ0FBQztBQUM1Q1AsS0FBSyxDQUFDSSxHQUFHLENBQUNELGlCQUFRLENBQUNLLFVBQVUsRUFBRSxDQUFDO0FBQ2hDUixLQUFLLENBQUNJLEdBQUcsQ0FBQ0QsaUJBQVEsQ0FBQ0csT0FBTyxFQUFFLENBQUM7QUFFN0JOLEtBQUssQ0FBQ1MsR0FBRyxDQUFDLEdBQUcsRUFBQyxDQUFDQyxHQUFHLEVBQUNDLEdBQUcsS0FBRztFQUNyQkEsR0FBRyxDQUFDTixJQUFJLENBQUM7SUFDTE8sT0FBTyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUZaLEtBQUssQ0FBQ0ksR0FBRyxDQUFDLE9BQU8sRUFBRVMsYUFBSSxDQUFDO0FBQ3hCYixLQUFLLENBQUNJLEdBQUcsQ0FBQyxPQUFPLEVBQUVVLGFBQUksQ0FBQztBQUN4QmQsS0FBSyxDQUFDSSxHQUFHLENBQUMsUUFBUSxFQUFFVyxvQkFBSyxDQUFDO0FBRTFCLE1BQU1DLElBQUksR0FBRyxJQUFJO0FBQ2pCaEIsS0FBSyxDQUFDaUIsTUFBTSxDQUFDRCxJQUFJLEVBQUUsTUFBTTtFQUNyQixJQUFBRSxtQkFBUyxHQUFFLENBQ1ZDLElBQUksQ0FBQyxNQUFNO0lBQ1JDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQixDQUFDO0VBQ3BDLENBQUMsQ0FBQyxDQUNEQyxLQUFLLENBQUVDLEtBQUssSUFBSztJQUNkSCxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQztJQUM1REQsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEtBQUssQ0FBQztFQUN0QixDQUFDLENBQUM7QUFDTixDQUFDLENBQUMifQ==","map":{"version":3,"names":["dotenv","config","money","express","privateRouteConfig","passport","use","json","session","secret","initialize","get","req","res","message","Auth","User","Trans","PORT","listen","ConnectDB","then","console","log","catch","error"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\","sources":["index.js"],"sourcesContent":["import express from 'express';\r\nimport dotenv from 'dotenv';\r\nimport passport from 'passport';\r\nimport session from \"express-session\";\r\nimport privateRouteConfig from \"./config/route.config\"\r\n\r\nimport ConnectDB from \"./database/connection\";\r\n\r\nimport Auth from \"./api/auth\";\r\nimport User from \"./api/user\";\r\nimport Trans from \"./api/transaction\";\r\n\r\ndotenv.config();\r\nconst money = express();\r\n\r\nprivateRouteConfig(passport);\r\n\r\nmoney.use(express.json());\r\nmoney.use(session({secret: \"MoneyTracker\"}));\r\nmoney.use(passport.initialize());\r\nmoney.use(passport.session());\r\n\r\nmoney.get('/',(req,res)=>{\r\n    res.json({\r\n        message: 'Server is running!!'\r\n    });\r\n});\r\n\r\nmoney.use(\"/auth\", Auth);\r\nmoney.use(\"/user\", User);\r\nmoney.use(\"/trans\", Trans);\r\n\r\nconst PORT = 4000;\r\nmoney.listen(PORT, () => {\r\n    ConnectDB()\r\n    .then(() => {\r\n        console.log('Server is running');\r\n    })\r\n    .catch((error) => {\r\n        console.log('Server is running, but database not connected');\r\n        console.log(error);\r\n    });\r\n});"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAsC;AAEtCA,eAAM,CAACC,MAAM,EAAE;AACf,MAAMC,KAAK,GAAG,IAAAC,gBAAO,GAAE;AAEvB,IAAAC,cAAkB,EAACC,iBAAQ,CAAC;AAE5BH,KAAK,CAACI,GAAG,CAACH,gBAAO,CAACI,IAAI,EAAE,CAAC;AACzBL,KAAK,CAACI,GAAG,CAAC,IAAAE,uBAAO,EAAC;EAACC,MAAM,EAAE;AAAc,CAAC,CAAC,CAAC;AAC5CP,KAAK,CAACI,GAAG,CAACD,iBAAQ,CAACK,UAAU,EAAE,CAAC;AAChCR,KAAK,CAACI,GAAG,CAACD,iBAAQ,CAACG,OAAO,EAAE,CAAC;AAE7BN,KAAK,CAACS,GAAG,CAAC,GAAG,EAAC,CAACC,GAAG,EAACC,GAAG,KAAG;EACrBA,GAAG,CAACN,IAAI,CAAC;IACLO,OAAO,EAAE;EACb,CAAC,CAAC;AACN,CAAC,CAAC;AAEFZ,KAAK,CAACI,GAAG,CAAC,OAAO,EAAES,aAAI,CAAC;AACxBb,KAAK,CAACI,GAAG,CAAC,OAAO,EAAEU,aAAI,CAAC;AACxBd,KAAK,CAACI,GAAG,CAAC,QAAQ,EAAEW,oBAAK,CAAC;AAE1B,MAAMC,IAAI,GAAG,IAAI;AACjBhB,KAAK,CAACiB,MAAM,CAACD,IAAI,EAAE,MAAM;EACrB,IAAAE,mBAAS,GAAE,CACVC,IAAI,CAAC,MAAM;IACRC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EACpC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;IACdH,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;IAC5DD,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;EACtB,CAAC,CAAC;AACN,CAAC,CAAC"}},"mtime":1673117173085},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_mongoose.default.set(\"strictQuery\", true);\nvar _default = async () => {\n  return _mongoose.default.connect(process.env.MONGO_URL);\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInNldCIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJMIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdFxcTW9uZXlfdHJhY2tlclxcc2VydmVyXFxkYXRhYmFzZVxcIiwic291cmNlcyI6WyJjb25uZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbm1vbmdvb3NlLnNldChcInN0cmljdFF1ZXJ5XCIsIHRydWUpO1xyXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoKSA9PiB7XHJcbiAgICByZXR1cm4gbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT19VUkwpO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBZ0M7QUFDaENBLGlCQUFRLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDO0FBQUMsZUFDbkIsWUFBWTtFQUN2QixPQUFPRCxpQkFBUSxDQUFDRSxPQUFPLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxTQUFTLENBQUM7QUFDbEQsQ0FBQztBQUFBIn0=","map":{"version":3,"names":["mongoose","set","connect","process","env","MONGO_URL"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\","sources":["connection.js"],"sourcesContent":["import mongoose from 'mongoose';\r\nmongoose.set(\"strictQuery\", true);\r\nexport default async () => {\r\n    return mongoose.connect(process.env.MONGO_URL);\r\n};"],"mappings":";;;;;;AAAA;AAAgC;AAChCA,iBAAQ,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC;AAAC,eACnB,YAAY;EACvB,OAAOD,iBAAQ,CAACE,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,SAAS,CAAC;AAClD,CAAC;AAAA"}},"mtime":1673110621031},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_mongoose.default.set(\"strictQuery\", true);\nvar _default = async () => {\n  return _mongoose.default.connect(process.env.MONGO_URL);\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInNldCIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJMIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdFxcTW9uZXlfdHJhY2tlclxcc2VydmVyXFxkYXRhYmFzZVxcIiwic291cmNlcyI6WyJjb25uZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbm1vbmdvb3NlLnNldChcInN0cmljdFF1ZXJ5XCIsIHRydWUpO1xyXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoKSA9PiB7XHJcbiAgICByZXR1cm4gbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT19VUkwpO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBZ0M7QUFDaENBLGlCQUFRLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDO0FBQUMsZUFDbkIsWUFBWTtFQUN2QixPQUFPRCxpQkFBUSxDQUFDRSxPQUFPLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxTQUFTLENBQUM7QUFDbEQsQ0FBQztBQUFBIn0=","map":{"version":3,"names":["mongoose","set","connect","process","env","MONGO_URL"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\","sources":["connection.js"],"sourcesContent":["import mongoose from 'mongoose';\r\nmongoose.set(\"strictQuery\", true);\r\nexport default async () => {\r\n    return mongoose.connect(process.env.MONGO_URL);\r\n};"],"mappings":";;;;;;AAAA;AAAgC;AAChCA,iBAAQ,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC;AAAC,eACnB,YAAY;EACvB,OAAOD,iBAAQ,CAACE,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,SAAS,CAAC;AAClD,CAAC;AAAA"}},"mtime":1673110621031},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\auth\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\auth\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _allModels = require(\"../../database/allModels\");\nvar _auth = require(\"../../validation/auth.validation\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import passport from \"passport\";\n\nconst Router = _express.default.Router();\n\n/**\r\n * Route     /signup\r\n * Des       Create new account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\nRouter.post(\"/signup\", async (req, res) => {\n  try {\n    await (0, _auth.ValidateSignup)(req.body.credentials);\n    await _allModels.UserModel.findByEmailAndPhone(req.body.credentials);\n    const newUser = await _allModels.UserModel.create(req.body.credentials);\n    const token = newUser.generateJwtToken();\n    return res.status(200).json({\n      token,\n      status: \"success\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n/**\r\n * Route     /signin\r\n * Des       Login to existing account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\nRouter.post(\"/signin\", async (req, res) => {\n  try {\n    await (0, _auth.ValidateSignin)(req.body.credentials);\n    const user = await _allModels.UserModel.findByEmailAndPassword(req.body.credentials);\n    const token = user.generateJwtToken();\n    return res.status(200).json({\n      token,\n      status: \"success\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n// Router.get(\n//   \"/google\",\n//   passport.authenticate(\"google\", {\n//     scope: [\n//       \"https://www.googleapis.com/auth/userinfo.profile\",\n//       \"https://www.googleapis.com/auth/userinfo.email\",\n//     ],\n//   })\n// );\n\n// Router.get(\n//   \"/google/callback\",\n//   passport.authenticate(\"google\", { failureRedirect: \"/\" }),\n//   (req, res) => {\n//     // return res.status(200).json({\n//     //   token: req.session.passport.user.token,\n//     // });\n\n//     return res.redirect(\n//       `http://localhost:3000/google/${req.session.passport.user.token}`\n//     );\n//   }\n// );\nvar _default = Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJleHByZXNzIiwicG9zdCIsInJlcSIsInJlcyIsIlZhbGlkYXRlU2lnbnVwIiwiYm9keSIsImNyZWRlbnRpYWxzIiwiVXNlck1vZGVsIiwiZmluZEJ5RW1haWxBbmRQaG9uZSIsIm5ld1VzZXIiLCJjcmVhdGUiLCJ0b2tlbiIsImdlbmVyYXRlSnd0VG9rZW4iLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwiVmFsaWRhdGVTaWduaW4iLCJ1c2VyIiwiZmluZEJ5RW1haWxBbmRQYXNzd29yZCJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcYXBpXFxhdXRoXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbi8vaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xyXG5cclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4uLy4uL2RhdGFiYXNlL2FsbE1vZGVsc1wiO1xyXG5pbXBvcnQge1xyXG4gIFZhbGlkYXRlU2lnbmluLFxyXG4gIFZhbGlkYXRlU2lnbnVwLFxyXG59IGZyb20gXCIuLi8uLi92YWxpZGF0aW9uL2F1dGgudmFsaWRhdGlvblwiO1xyXG5cclxuY29uc3QgUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbi8qKlxyXG4gKiBSb3V0ZSAgICAgL3NpZ251cFxyXG4gKiBEZXMgICAgICAgQ3JlYXRlIG5ldyBhY2NvdW50XHJcbiAqIFBhcmFtcyAgICBub25lXHJcbiAqIEFjY2VzcyAgICBQdWJsaWNcclxuICogTWV0aG9kICAgIFBPU1RcclxuICovXHJcblJvdXRlci5wb3N0KFwiL3NpZ251cFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgVmFsaWRhdGVTaWdudXAocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgYXdhaXQgVXNlck1vZGVsLmZpbmRCeUVtYWlsQW5kUGhvbmUocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgY29uc3QgdG9rZW4gPSBuZXdVc2VyLmdlbmVyYXRlSnd0VG9rZW4oKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCBzdGF0dXM6IFwic3VjY2Vzc1wiIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJvdXRlICAgICAvc2lnbmluXHJcbiAqIERlcyAgICAgICBMb2dpbiB0byBleGlzdGluZyBhY2NvdW50XHJcbiAqIFBhcmFtcyAgICBub25lXHJcbiAqIEFjY2VzcyAgICBQdWJsaWNcclxuICogTWV0aG9kICAgIFBPU1RcclxuICovXHJcblJvdXRlci5wb3N0KFwiL3NpZ25pblwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgVmFsaWRhdGVTaWduaW4ocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlFbWFpbEFuZFBhc3N3b3JkKHJlcS5ib2R5LmNyZWRlbnRpYWxzKTtcclxuICAgIGNvbnN0IHRva2VuID0gdXNlci5nZW5lcmF0ZUp3dFRva2VuKCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIFJvdXRlci5nZXQoXHJcbi8vICAgXCIvZ29vZ2xlXCIsXHJcbi8vICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiZ29vZ2xlXCIsIHtcclxuLy8gICAgIHNjb3BlOiBbXHJcbi8vICAgICAgIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5wcm9maWxlXCIsXHJcbi8vICAgICAgIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbFwiLFxyXG4vLyAgICAgXSxcclxuLy8gICB9KVxyXG4vLyApO1xyXG5cclxuLy8gUm91dGVyLmdldChcclxuLy8gICBcIi9nb29nbGUvY2FsbGJhY2tcIixcclxuLy8gICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJnb29nbGVcIiwgeyBmYWlsdXJlUmVkaXJlY3Q6IFwiL1wiIH0pLFxyXG4vLyAgIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgLy8gcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgIC8vICAgdG9rZW46IHJlcS5zZXNzaW9uLnBhc3Nwb3J0LnVzZXIudG9rZW4sXHJcbi8vICAgICAvLyB9KTtcclxuXHJcbi8vICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxyXG4vLyAgICAgICBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2dvb2dsZS8ke3JlcS5zZXNzaW9uLnBhc3Nwb3J0LnVzZXIudG9rZW59YFxyXG4vLyAgICAgKTtcclxuLy8gICB9XHJcbi8vICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUdBO0FBQ0E7QUFHMEM7QUFOMUM7O0FBUUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBTyxDQUFDRCxNQUFNLEVBQUU7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QyxJQUFJO0lBQ0YsTUFBTSxJQUFBQyxvQkFBYyxFQUFDRixHQUFHLENBQUNHLElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQzFDLE1BQU1DLG9CQUFTLENBQUNDLG1CQUFtQixDQUFDTixHQUFHLENBQUNHLElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQ3pELE1BQU1HLE9BQU8sR0FBRyxNQUFNRixvQkFBUyxDQUFDRyxNQUFNLENBQUNSLEdBQUcsQ0FBQ0csSUFBSSxDQUFDQyxXQUFXLENBQUM7SUFDNUQsTUFBTUssS0FBSyxHQUFHRixPQUFPLENBQUNHLGdCQUFnQixFQUFFO0lBQ3hDLE9BQU9ULEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUgsS0FBSztNQUFFRSxNQUFNLEVBQUU7SUFBVSxDQUFDLENBQUM7RUFDM0QsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtJQUNkLE9BQU9aLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFQSxLQUFLLENBQUNDO0lBQVEsQ0FBQyxDQUFDO0VBQ3ZEO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FqQixNQUFNLENBQUNFLElBQUksQ0FBQyxTQUFTLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekMsSUFBSTtJQUNGLE1BQU0sSUFBQWMsb0JBQWMsRUFBQ2YsR0FBRyxDQUFDRyxJQUFJLENBQUNDLFdBQVcsQ0FBQztJQUMxQyxNQUFNWSxJQUFJLEdBQUcsTUFBTVgsb0JBQVMsQ0FBQ1ksc0JBQXNCLENBQUNqQixHQUFHLENBQUNHLElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQ3pFLE1BQU1LLEtBQUssR0FBR08sSUFBSSxDQUFDTixnQkFBZ0IsRUFBRTtJQUNyQyxPQUFPVCxHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVILEtBQUs7TUFBRUUsTUFBTSxFQUFFO0lBQVUsQ0FBQyxDQUFDO0VBQzNELENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7SUFDZCxPQUFPWixHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDQztJQUFRLENBQUMsQ0FBQztFQUN2RDtBQUNGLENBQUMsQ0FBQzs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBLGVBRWVqQixNQUFNO0FBQUEifQ==","map":{"version":3,"names":["Router","express","post","req","res","ValidateSignup","body","credentials","UserModel","findByEmailAndPhone","newUser","create","token","generateJwtToken","status","json","error","message","ValidateSignin","user","findByEmailAndPassword"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\api\\auth\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\n//import passport from \"passport\";\r\n\r\nimport { UserModel } from \"../../database/allModels\";\r\nimport {\r\n  ValidateSignin,\r\n  ValidateSignup,\r\n} from \"../../validation/auth.validation\";\r\n\r\nconst Router = express.Router();\r\n\r\n/**\r\n * Route     /signup\r\n * Des       Create new account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\r\nRouter.post(\"/signup\", async (req, res) => {\r\n  try {\r\n    await ValidateSignup(req.body.credentials);\r\n    await UserModel.findByEmailAndPhone(req.body.credentials);\r\n    const newUser = await UserModel.create(req.body.credentials);\r\n    const token = newUser.generateJwtToken();\r\n    return res.status(200).json({ token, status: \"success\" });\r\n  } catch (error) {\r\n    return res.status(500).json({ error: error.message });\r\n  }\r\n});\r\n\r\n/**\r\n * Route     /signin\r\n * Des       Login to existing account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\r\nRouter.post(\"/signin\", async (req, res) => {\r\n  try {\r\n    await ValidateSignin(req.body.credentials);\r\n    const user = await UserModel.findByEmailAndPassword(req.body.credentials);\r\n    const token = user.generateJwtToken();\r\n    return res.status(200).json({ token, status: \"success\" });\r\n  } catch (error) {\r\n    return res.status(500).json({ error: error.message });\r\n  }\r\n});\r\n\r\n// Router.get(\r\n//   \"/google\",\r\n//   passport.authenticate(\"google\", {\r\n//     scope: [\r\n//       \"https://www.googleapis.com/auth/userinfo.profile\",\r\n//       \"https://www.googleapis.com/auth/userinfo.email\",\r\n//     ],\r\n//   })\r\n// );\r\n\r\n// Router.get(\r\n//   \"/google/callback\",\r\n//   passport.authenticate(\"google\", { failureRedirect: \"/\" }),\r\n//   (req, res) => {\r\n//     // return res.status(200).json({\r\n//     //   token: req.session.passport.user.token,\r\n//     // });\r\n\r\n//     return res.redirect(\r\n//       `http://localhost:3000/google/${req.session.passport.user.token}`\r\n//     );\r\n//   }\r\n// );\r\n\r\nexport default Router;"],"mappings":";;;;;;AAAA;AAGA;AACA;AAG0C;AAN1C;;AAQA,MAAMA,MAAM,GAAGC,gBAAO,CAACD,MAAM,EAAE;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACE,IAAI,CAAC,SAAS,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACF,MAAM,IAAAC,oBAAc,EAACF,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IAC1C,MAAMC,oBAAS,CAACC,mBAAmB,CAACN,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IACzD,MAAMG,OAAO,GAAG,MAAMF,oBAAS,CAACG,MAAM,CAACR,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IAC5D,MAAMK,KAAK,GAAGF,OAAO,CAACG,gBAAgB,EAAE;IACxC,OAAOT,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,KAAK;MAAEE,MAAM,EAAE;IAAU,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOZ,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EACvD;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACAjB,MAAM,CAACE,IAAI,CAAC,SAAS,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACF,MAAM,IAAAc,oBAAc,EAACf,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IAC1C,MAAMY,IAAI,GAAG,MAAMX,oBAAS,CAACY,sBAAsB,CAACjB,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IACzE,MAAMK,KAAK,GAAGO,IAAI,CAACN,gBAAgB,EAAE;IACrC,OAAOT,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,KAAK;MAAEE,MAAM,EAAE;IAAU,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOZ,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EACvD;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA,eAEejB,MAAM;AAAA"}},"mtime":1673097521251},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\allModels.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"TransModel\", {\n  enumerable: true,\n  get: function () {\n    return _Transaction.TransModel;\n  }\n});\nObject.defineProperty(exports, \"UserModel\", {\n  enumerable: true,\n  get: function () {\n    return _User.UserModel;\n  }\n});\nvar _User = require(\"./User\");\nvar _Transaction = require(\"./Transaction\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdFxcTW9uZXlfdHJhY2tlclxcc2VydmVyXFxkYXRhYmFzZVxcIiwic291cmNlcyI6WyJhbGxNb2RlbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4vVXNlclwiO1xyXG5pbXBvcnQgeyBUcmFuc01vZGVsIH0gZnJvbSBcIi4vVHJhbnNhY3Rpb25cIjtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBVc2VyTW9kZWwsXHJcbiAgICBUcmFuc01vZGVsXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EifQ==","map":{"version":3,"names":[],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\","sources":["allModels.js"],"sourcesContent":["import { UserModel } from \"./User\";\r\nimport { TransModel } from \"./Transaction\";\r\n\r\nexport {\r\n    UserModel,\r\n    TransModel\r\n};"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA"}},"mtime":1673081736505},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\User\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\User\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserModel = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst UserSchema = new _mongoose.default.Schema({\n  fullName: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String\n  },\n  address: [{\n    detail: {\n      type: String\n    },\n    for: {\n      type: String\n    }\n  }],\n  phoneNumber: [{\n    type: Number\n  }]\n}, {\n  timestamps: true\n});\n\n// attachments\nUserSchema.methods.generateJwtToken = function () {\n  return _jsonwebtoken.default.sign({\n    user: this._id.toString()\n  }, \"MoneyTracker\"); //MoneyTracker is secret key for token\n};\n\n// helper functions\nUserSchema.statics.findByEmailAndPhone = async ({\n  email,\n  phoneNumber\n}) => {\n  const checkUserByEmail = await UserModel.findOne({\n    email\n  });\n  const checkUserByPhone = await UserModel.findOne({\n    phoneNumber\n  });\n  if (checkUserByEmail || checkUserByPhone) {\n    throw new Error(\"User Already Exists....\");\n  }\n  return false;\n};\nUserSchema.statics.findByEmailAndPassword = async ({\n  email,\n  password\n}) => {\n  const user = await UserModel.findOne({\n    email\n  });\n  if (!user) throw new Error(\"User does not exists!!\");\n\n  // compare password\n  const doesPasswordMatch = await _bcryptjs.default.compare(password, user.password);\n  if (!doesPasswordMatch) throw new Error(\"Invalid Credentials !!\");\n  return user;\n};\nUserSchema.pre(\"save\", function (next) {\n  const user = this;\n\n  // password is modified\n  if (!user.isModified(\"password\")) return next();\n\n  // generate bcrypt salt\n  _bcryptjs.default.genSalt(8, (error, salt) => {\n    if (error) return next(error);\n\n    // hash the password\n    _bcryptjs.default.hash(user.password, salt, (error, hash) => {\n      if (error) return next(error);\n\n      // assigning hashed password\n      user.password = hash;\n      return next();\n    });\n  });\n});\nconst UserModel = _mongoose.default.model(\"users\", UserSchema);\nexports.UserModel = UserModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJmdWxsTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJhZGRyZXNzIiwiZGV0YWlsIiwiZm9yIiwicGhvbmVOdW1iZXIiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwibWV0aG9kcyIsImdlbmVyYXRlSnd0VG9rZW4iLCJqd3QiLCJzaWduIiwidXNlciIsIl9pZCIsInRvU3RyaW5nIiwic3RhdGljcyIsImZpbmRCeUVtYWlsQW5kUGhvbmUiLCJjaGVja1VzZXJCeUVtYWlsIiwiVXNlck1vZGVsIiwiZmluZE9uZSIsImNoZWNrVXNlckJ5UGhvbmUiLCJFcnJvciIsImZpbmRCeUVtYWlsQW5kUGFzc3dvcmQiLCJkb2VzUGFzc3dvcmRNYXRjaCIsImJjcnlwdCIsImNvbXBhcmUiLCJwcmUiLCJuZXh0IiwiaXNNb2RpZmllZCIsImdlblNhbHQiLCJlcnJvciIsInNhbHQiLCJoYXNoIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXGRhdGFiYXNlXFxVc2VyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcclxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBmdWxsTmFtZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgZW1haWw6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nfSxcclxuICAgIGFkZHJlc3M6IFt7ZGV0YWlsOiB7dHlwZTogU3RyaW5nfSwgZm9yOiB7dHlwZTogU3RyaW5nfX1dLFxyXG4gICAgcGhvbmVOdW1iZXI6IFt7dHlwZTogTnVtYmVyfV1cclxufSwge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIGF0dGFjaG1lbnRzXHJcblVzZXJTY2hlbWEubWV0aG9kcy5nZW5lcmF0ZUp3dFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGp3dC5zaWduKHt1c2VyOiB0aGlzLl9pZC50b1N0cmluZygpfSwgXCJNb25leVRyYWNrZXJcIik7ICAvL01vbmV5VHJhY2tlciBpcyBzZWNyZXQga2V5IGZvciB0b2tlblxyXG59O1xyXG5cclxuLy8gaGVscGVyIGZ1bmN0aW9uc1xyXG5Vc2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5RW1haWxBbmRQaG9uZSA9IGFzeW5jICh7ZW1haWwsIHBob25lTnVtYmVyfSkgPT4ge1xyXG4gICAgY29uc3QgY2hlY2tVc2VyQnlFbWFpbCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHtlbWFpbH0pO1xyXG4gICAgY29uc3QgY2hlY2tVc2VyQnlQaG9uZSA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHtwaG9uZU51bWJlcn0pO1xyXG5cclxuICAgIGlmKGNoZWNrVXNlckJ5RW1haWwgfHwgY2hlY2tVc2VyQnlQaG9uZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBBbHJlYWR5IEV4aXN0cy4uLi5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuVXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsQW5kUGFzc3dvcmQgPSBhc3luYyAoe2VtYWlsLCBwYXNzd29yZH0pID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7ZW1haWx9KTtcclxuICAgIGlmKCF1c2VyKSB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIGRvZXMgbm90IGV4aXN0cyEhXCIpO1xyXG5cclxuICAgIC8vIGNvbXBhcmUgcGFzc3dvcmRcclxuICAgIGNvbnN0IGRvZXNQYXNzd29yZE1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xyXG5cclxuICAgIGlmICghZG9lc1Bhc3N3b3JkTWF0Y2gpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQ3JlZGVudGlhbHMgISFcIik7XHJcblxyXG4gICAgcmV0dXJuIHVzZXI7XHJcbn07XHJcblxyXG5Vc2VyU2NoZW1hLnByZShcInNhdmVcIiwgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIGNvbnN0IHVzZXIgPSB0aGlzO1xyXG5cclxuICAgIC8vIHBhc3N3b3JkIGlzIG1vZGlmaWVkXHJcbiAgICBpZighdXNlci5pc01vZGlmaWVkKFwicGFzc3dvcmRcIikpXHJcbiAgICByZXR1cm4gbmV4dCgpO1xyXG5cclxuICAgIC8vIGdlbmVyYXRlIGJjcnlwdCBzYWx0XHJcbiAgICBiY3J5cHQuZ2VuU2FsdCg4LCAoZXJyb3IsIHNhbHQpID0+IHtcclxuICAgICAgICBpZihlcnJvcikgXHJcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyb3IpO1xyXG5cclxuICAgICAgICAvLyBoYXNoIHRoZSBwYXNzd29yZFxyXG4gICAgICAgIGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQsIChlcnJvciwgaGFzaCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIFxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChlcnJvcik7XHJcblxyXG4gICAgICAgICAgICAvLyBhc3NpZ25pbmcgaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHVzZXIucGFzc3dvcmQgPSBoYXNoO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwidXNlcnNcIiwgVXNlclNjaGVtYSk7Il0s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","map":{"version":3,"names":["UserSchema","mongoose","Schema","fullName","type","String","required","email","password","address","detail","for","phoneNumber","Number","timestamps","methods","generateJwtToken","jwt","sign","user","_id","toString","statics","findByEmailAndPhone","checkUserByEmail","UserModel","findOne","checkUserByPhone","Error","findByEmailAndPassword","doesPasswordMatch","bcrypt","compare","pre","next","isModified","genSalt","error","salt","hash","model"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\User\\","sources":["index.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n    fullName: {type: String, required: true},\r\n    email: {type: String, required: true},\r\n    password: {type: String},\r\n    address: [{detail: {type: String}, for: {type: String}}],\r\n    phoneNumber: [{type: Number}]\r\n}, {\r\n    timestamps: true\r\n});\r\n\r\n// attachments\r\nUserSchema.methods.generateJwtToken = function () {\r\n    return jwt.sign({user: this._id.toString()}, \"MoneyTracker\");  //MoneyTracker is secret key for token\r\n};\r\n\r\n// helper functions\r\nUserSchema.statics.findByEmailAndPhone = async ({email, phoneNumber}) => {\r\n    const checkUserByEmail = await UserModel.findOne({email});\r\n    const checkUserByPhone = await UserModel.findOne({phoneNumber});\r\n\r\n    if(checkUserByEmail || checkUserByPhone){\r\n        throw new Error(\"User Already Exists....\");\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nUserSchema.statics.findByEmailAndPassword = async ({email, password}) => {\r\n    const user = await UserModel.findOne({email});\r\n    if(!user) throw new Error(\"User does not exists!!\");\r\n\r\n    // compare password\r\n    const doesPasswordMatch = await bcrypt.compare(password, user.password);\r\n\r\n    if (!doesPasswordMatch) throw new Error(\"Invalid Credentials !!\");\r\n\r\n    return user;\r\n};\r\n\r\nUserSchema.pre(\"save\", function (next) {\r\n    const user = this;\r\n\r\n    // password is modified\r\n    if(!user.isModified(\"password\"))\r\n    return next();\r\n\r\n    // generate bcrypt salt\r\n    bcrypt.genSalt(8, (error, salt) => {\r\n        if(error) \r\n        return next(error);\r\n\r\n        // hash the password\r\n        bcrypt.hash(user.password, salt, (error, hash) => {\r\n            if (error) \r\n            return next(error);\r\n\r\n            // assigning hashed password\r\n            user.password = hash;\r\n            return next();\r\n        });\r\n    });\r\n});\r\n\r\nexport const UserModel = mongoose.model(\"users\", UserSchema);"],"mappings":";;;;;;AAAA;AACA;AACA;AAA+B;AAE/B,MAAMA,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACnCC,QAAQ,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxCC,KAAK,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACrCE,QAAQ,EAAE;IAACJ,IAAI,EAAEC;EAAM,CAAC;EACxBI,OAAO,EAAE,CAAC;IAACC,MAAM,EAAE;MAACN,IAAI,EAAEC;IAAM,CAAC;IAAEM,GAAG,EAAE;MAACP,IAAI,EAAEC;IAAM;EAAC,CAAC,CAAC;EACxDO,WAAW,EAAE,CAAC;IAACR,IAAI,EAAES;EAAM,CAAC;AAChC,CAAC,EAAE;EACCC,UAAU,EAAE;AAChB,CAAC,CAAC;;AAEF;AACAd,UAAU,CAACe,OAAO,CAACC,gBAAgB,GAAG,YAAY;EAC9C,OAAOC,qBAAG,CAACC,IAAI,CAAC;IAACC,IAAI,EAAE,IAAI,CAACC,GAAG,CAACC,QAAQ;EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,CAAE;AACnE,CAAC;;AAED;AACArB,UAAU,CAACsB,OAAO,CAACC,mBAAmB,GAAG,OAAO;EAAChB,KAAK;EAAEK;AAAW,CAAC,KAAK;EACrE,MAAMY,gBAAgB,GAAG,MAAMC,SAAS,CAACC,OAAO,CAAC;IAACnB;EAAK,CAAC,CAAC;EACzD,MAAMoB,gBAAgB,GAAG,MAAMF,SAAS,CAACC,OAAO,CAAC;IAACd;EAAW,CAAC,CAAC;EAE/D,IAAGY,gBAAgB,IAAIG,gBAAgB,EAAC;IACpC,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC9C;EAEA,OAAO,KAAK;AAChB,CAAC;AAED5B,UAAU,CAACsB,OAAO,CAACO,sBAAsB,GAAG,OAAO;EAACtB,KAAK;EAAEC;AAAQ,CAAC,KAAK;EACrE,MAAMW,IAAI,GAAG,MAAMM,SAAS,CAACC,OAAO,CAAC;IAACnB;EAAK,CAAC,CAAC;EAC7C,IAAG,CAACY,IAAI,EAAE,MAAM,IAAIS,KAAK,CAAC,wBAAwB,CAAC;;EAEnD;EACA,MAAME,iBAAiB,GAAG,MAAMC,iBAAM,CAACC,OAAO,CAACxB,QAAQ,EAAEW,IAAI,CAACX,QAAQ,CAAC;EAEvE,IAAI,CAACsB,iBAAiB,EAAE,MAAM,IAAIF,KAAK,CAAC,wBAAwB,CAAC;EAEjE,OAAOT,IAAI;AACf,CAAC;AAEDnB,UAAU,CAACiC,GAAG,CAAC,MAAM,EAAE,UAAUC,IAAI,EAAE;EACnC,MAAMf,IAAI,GAAG,IAAI;;EAEjB;EACA,IAAG,CAACA,IAAI,CAACgB,UAAU,CAAC,UAAU,CAAC,EAC/B,OAAOD,IAAI,EAAE;;EAEb;EACAH,iBAAM,CAACK,OAAO,CAAC,CAAC,EAAE,CAACC,KAAK,EAAEC,IAAI,KAAK;IAC/B,IAAGD,KAAK,EACR,OAAOH,IAAI,CAACG,KAAK,CAAC;;IAElB;IACAN,iBAAM,CAACQ,IAAI,CAACpB,IAAI,CAACX,QAAQ,EAAE8B,IAAI,EAAE,CAACD,KAAK,EAAEE,IAAI,KAAK;MAC9C,IAAIF,KAAK,EACT,OAAOH,IAAI,CAACG,KAAK,CAAC;;MAElB;MACAlB,IAAI,CAACX,QAAQ,GAAG+B,IAAI;MACpB,OAAOL,IAAI,EAAE;IACjB,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,MAAMT,SAAS,GAAGxB,iBAAQ,CAACuC,KAAK,CAAC,OAAO,EAAExC,UAAU,CAAC;AAAC"}},"mtime":1673080205235},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\Transaction\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\Transaction\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransModel = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst TransSchema = new _mongoose.default.Schema({\n  user: [{\n    type: _mongoose.default.Types.ObjectId,\n    ref: \"users\"\n  }],\n  category: {\n    type: String,\n    required: true\n  },\n  amount: {\n    type: Number,\n    required: true\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: true\n});\nconst TransModel = _mongoose.default.model(\"transaction\", TransSchema);\nexports.TransModel = TransModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUcmFuc1NjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY2F0ZWdvcnkiLCJTdHJpbmciLCJyZXF1aXJlZCIsImFtb3VudCIsIk51bWJlciIsImRhdGUiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsInRpbWVzdGFtcHMiLCJUcmFuc01vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXGRhdGFiYXNlXFxUcmFuc2FjdGlvblxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBUcmFuc1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgdXNlcjogW3tcclxuICAgICAgICB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICByZWY6IFwidXNlcnNcIlxyXG4gICAgfV0sXHJcbiAgICBjYXRlZ29yeToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBhbW91bnQ6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgZGF0ZToge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcclxuICAgICAgfVxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFRyYW5zTW9kZWwgPSBtb25nb29zZS5tb2RlbChcInRyYW5zYWN0aW9uXCIsIFRyYW5zU2NoZW1hKTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBRWhDLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDcENDLElBQUksRUFBRSxDQUFDO0lBQ0hDLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0ksS0FBSyxDQUFDQyxRQUFRO0lBQzdCQyxHQUFHLEVBQUU7RUFDVCxDQUFDLENBQUM7RUFDRkMsUUFBUSxFQUFFO0lBQ05KLElBQUksRUFBRUssTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLE1BQU0sRUFBRTtJQUNOUCxJQUFJLEVBQUVRLE1BQU07SUFDWkYsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNERyxJQUFJLEVBQUU7SUFDSlQsSUFBSSxFQUFFVSxJQUFJO0lBQ1ZDLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtFQUNoQjtBQUNOLENBQUMsRUFBRTtFQUNDQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUssTUFBTUMsVUFBVSxHQUFHakIsaUJBQVEsQ0FBQ2tCLEtBQUssQ0FBQyxhQUFhLEVBQUVuQixXQUFXLENBQUM7QUFBQyJ9","map":{"version":3,"names":["TransSchema","mongoose","Schema","user","type","Types","ObjectId","ref","category","String","required","amount","Number","date","Date","default","now","timestamps","TransModel","model"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\Transaction\\","sources":["index.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst TransSchema = new mongoose.Schema({\r\n    user: [{\r\n        type: mongoose.Types.ObjectId,\r\n        ref: \"users\"\r\n    }],\r\n    category: {\r\n        type: String,\r\n        required: true\r\n      },\r\n      amount: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      date: {\r\n        type: Date,\r\n        default: Date.now\r\n      }\r\n}, {\r\n    timestamps: true\r\n});\r\n\r\nexport const TransModel = mongoose.model(\"transaction\", TransSchema);"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,WAAW,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACpCC,IAAI,EAAE,CAAC;IACHC,IAAI,EAAEH,iBAAQ,CAACI,KAAK,CAACC,QAAQ;IAC7BC,GAAG,EAAE;EACT,CAAC,CAAC;EACFC,QAAQ,EAAE;IACNJ,IAAI,EAAEK,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,MAAM,EAAE;IACNP,IAAI,EAAEQ,MAAM;IACZF,QAAQ,EAAE;EACZ,CAAC;EACDG,IAAI,EAAE;IACJT,IAAI,EAAEU,IAAI;IACVC,OAAO,EAAED,IAAI,CAACE;EAChB;AACN,CAAC,EAAE;EACCC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEK,MAAMC,UAAU,GAAGjB,iBAAQ,CAACkB,KAAK,CAAC,aAAa,EAAEnB,WAAW,CAAC;AAAC"}},"mtime":1673093048984},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\auth\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\auth\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _allModels = require(\"../../database/allModels\");\nvar _auth = require(\"../../validation/auth.validation\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import passport from \"passport\";\n\nconst Router = _express.default.Router();\n\n/**\r\n * Route     /signup\r\n * Des       Create new account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\nRouter.post(\"/signup\", async (req, res) => {\n  try {\n    await (0, _auth.ValidateSignup)(req.body.credentials);\n    await _allModels.UserModel.findByEmailAndPhone(req.body.credentials);\n    const newUser = await _allModels.UserModel.create(req.body.credentials);\n    const token = newUser.generateJwtToken();\n    return res.status(200).json({\n      token,\n      status: \"success\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n/**\r\n * Route     /signin\r\n * Des       Login to existing account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\nRouter.post(\"/signin\", async (req, res) => {\n  try {\n    await (0, _auth.ValidateSignin)(req.body.credentials);\n    const user = await _allModels.UserModel.findByEmailAndPassword(req.body.credentials);\n    const token = user.generateJwtToken();\n    return res.status(200).json({\n      token,\n      status: \"success\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n// Router.get(\n//   \"/google\",\n//   passport.authenticate(\"google\", {\n//     scope: [\n//       \"https://www.googleapis.com/auth/userinfo.profile\",\n//       \"https://www.googleapis.com/auth/userinfo.email\",\n//     ],\n//   })\n// );\n\n// Router.get(\n//   \"/google/callback\",\n//   passport.authenticate(\"google\", { failureRedirect: \"/\" }),\n//   (req, res) => {\n//     // return res.status(200).json({\n//     //   token: req.session.passport.user.token,\n//     // });\n\n//     return res.redirect(\n//       `http://localhost:3000/google/${req.session.passport.user.token}`\n//     );\n//   }\n// );\nvar _default = Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJleHByZXNzIiwicG9zdCIsInJlcSIsInJlcyIsIlZhbGlkYXRlU2lnbnVwIiwiYm9keSIsImNyZWRlbnRpYWxzIiwiVXNlck1vZGVsIiwiZmluZEJ5RW1haWxBbmRQaG9uZSIsIm5ld1VzZXIiLCJjcmVhdGUiLCJ0b2tlbiIsImdlbmVyYXRlSnd0VG9rZW4iLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwiVmFsaWRhdGVTaWduaW4iLCJ1c2VyIiwiZmluZEJ5RW1haWxBbmRQYXNzd29yZCJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcYXBpXFxhdXRoXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbi8vaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xyXG5cclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4uLy4uL2RhdGFiYXNlL2FsbE1vZGVsc1wiO1xyXG5pbXBvcnQge1xyXG4gIFZhbGlkYXRlU2lnbmluLFxyXG4gIFZhbGlkYXRlU2lnbnVwLFxyXG59IGZyb20gXCIuLi8uLi92YWxpZGF0aW9uL2F1dGgudmFsaWRhdGlvblwiO1xyXG5cclxuY29uc3QgUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbi8qKlxyXG4gKiBSb3V0ZSAgICAgL3NpZ251cFxyXG4gKiBEZXMgICAgICAgQ3JlYXRlIG5ldyBhY2NvdW50XHJcbiAqIFBhcmFtcyAgICBub25lXHJcbiAqIEFjY2VzcyAgICBQdWJsaWNcclxuICogTWV0aG9kICAgIFBPU1RcclxuICovXHJcblJvdXRlci5wb3N0KFwiL3NpZ251cFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgVmFsaWRhdGVTaWdudXAocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgYXdhaXQgVXNlck1vZGVsLmZpbmRCeUVtYWlsQW5kUGhvbmUocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgY29uc3QgdG9rZW4gPSBuZXdVc2VyLmdlbmVyYXRlSnd0VG9rZW4oKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCBzdGF0dXM6IFwic3VjY2Vzc1wiIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJvdXRlICAgICAvc2lnbmluXHJcbiAqIERlcyAgICAgICBMb2dpbiB0byBleGlzdGluZyBhY2NvdW50XHJcbiAqIFBhcmFtcyAgICBub25lXHJcbiAqIEFjY2VzcyAgICBQdWJsaWNcclxuICogTWV0aG9kICAgIFBPU1RcclxuICovXHJcblJvdXRlci5wb3N0KFwiL3NpZ25pblwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgVmFsaWRhdGVTaWduaW4ocmVxLmJvZHkuY3JlZGVudGlhbHMpO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlFbWFpbEFuZFBhc3N3b3JkKHJlcS5ib2R5LmNyZWRlbnRpYWxzKTtcclxuICAgIGNvbnN0IHRva2VuID0gdXNlci5nZW5lcmF0ZUp3dFRva2VuKCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIFJvdXRlci5nZXQoXHJcbi8vICAgXCIvZ29vZ2xlXCIsXHJcbi8vICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiZ29vZ2xlXCIsIHtcclxuLy8gICAgIHNjb3BlOiBbXHJcbi8vICAgICAgIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5wcm9maWxlXCIsXHJcbi8vICAgICAgIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbFwiLFxyXG4vLyAgICAgXSxcclxuLy8gICB9KVxyXG4vLyApO1xyXG5cclxuLy8gUm91dGVyLmdldChcclxuLy8gICBcIi9nb29nbGUvY2FsbGJhY2tcIixcclxuLy8gICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJnb29nbGVcIiwgeyBmYWlsdXJlUmVkaXJlY3Q6IFwiL1wiIH0pLFxyXG4vLyAgIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgLy8gcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgIC8vICAgdG9rZW46IHJlcS5zZXNzaW9uLnBhc3Nwb3J0LnVzZXIudG9rZW4sXHJcbi8vICAgICAvLyB9KTtcclxuXHJcbi8vICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxyXG4vLyAgICAgICBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2dvb2dsZS8ke3JlcS5zZXNzaW9uLnBhc3Nwb3J0LnVzZXIudG9rZW59YFxyXG4vLyAgICAgKTtcclxuLy8gICB9XHJcbi8vICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUdBO0FBQ0E7QUFHMEM7QUFOMUM7O0FBUUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBTyxDQUFDRCxNQUFNLEVBQUU7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QyxJQUFJO0lBQ0YsTUFBTSxJQUFBQyxvQkFBYyxFQUFDRixHQUFHLENBQUNHLElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQzFDLE1BQU1DLG9CQUFTLENBQUNDLG1CQUFtQixDQUFDTixHQUFHLENBQUNHLElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQ3pELE1BQU1HLE9BQU8sR0FBRyxNQUFNRixvQkFBUyxDQUFDRyxNQUFNLENBQUNSLEdBQUcsQ0FBQ0csSUFBSSxDQUFDQyxXQUFXLENBQUM7SUFDNUQsTUFBTUssS0FBSyxHQUFHRixPQUFPLENBQUNHLGdCQUFnQixFQUFFO0lBQ3hDLE9BQU9ULEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUgsS0FBSztNQUFFRSxNQUFNLEVBQUU7SUFBVSxDQUFDLENBQUM7RUFDM0QsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtJQUNkLE9BQU9aLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFQSxLQUFLLENBQUNDO0lBQVEsQ0FBQyxDQUFDO0VBQ3ZEO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FqQixNQUFNLENBQUNFLElBQUksQ0FBQyxTQUFTLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekMsSUFBSTtJQUNGLE1BQU0sSUFBQWMsb0JBQWMsRUFBQ2YsR0FBRyxDQUFDRyxJQUFJLENBQUNDLFdBQVcsQ0FBQztJQUMxQyxNQUFNWSxJQUFJLEdBQUcsTUFBTVgsb0JBQVMsQ0FBQ1ksc0JBQXNCLENBQUNqQixHQUFHLENBQUNHLElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQ3pFLE1BQU1LLEtBQUssR0FBR08sSUFBSSxDQUFDTixnQkFBZ0IsRUFBRTtJQUNyQyxPQUFPVCxHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVILEtBQUs7TUFBRUUsTUFBTSxFQUFFO0lBQVUsQ0FBQyxDQUFDO0VBQzNELENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7SUFDZCxPQUFPWixHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDQztJQUFRLENBQUMsQ0FBQztFQUN2RDtBQUNGLENBQUMsQ0FBQzs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBLGVBRWVqQixNQUFNO0FBQUEifQ==","map":{"version":3,"names":["Router","express","post","req","res","ValidateSignup","body","credentials","UserModel","findByEmailAndPhone","newUser","create","token","generateJwtToken","status","json","error","message","ValidateSignin","user","findByEmailAndPassword"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\api\\auth\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\n//import passport from \"passport\";\r\n\r\nimport { UserModel } from \"../../database/allModels\";\r\nimport {\r\n  ValidateSignin,\r\n  ValidateSignup,\r\n} from \"../../validation/auth.validation\";\r\n\r\nconst Router = express.Router();\r\n\r\n/**\r\n * Route     /signup\r\n * Des       Create new account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\r\nRouter.post(\"/signup\", async (req, res) => {\r\n  try {\r\n    await ValidateSignup(req.body.credentials);\r\n    await UserModel.findByEmailAndPhone(req.body.credentials);\r\n    const newUser = await UserModel.create(req.body.credentials);\r\n    const token = newUser.generateJwtToken();\r\n    return res.status(200).json({ token, status: \"success\" });\r\n  } catch (error) {\r\n    return res.status(500).json({ error: error.message });\r\n  }\r\n});\r\n\r\n/**\r\n * Route     /signin\r\n * Des       Login to existing account\r\n * Params    none\r\n * Access    Public\r\n * Method    POST\r\n */\r\nRouter.post(\"/signin\", async (req, res) => {\r\n  try {\r\n    await ValidateSignin(req.body.credentials);\r\n    const user = await UserModel.findByEmailAndPassword(req.body.credentials);\r\n    const token = user.generateJwtToken();\r\n    return res.status(200).json({ token, status: \"success\" });\r\n  } catch (error) {\r\n    return res.status(500).json({ error: error.message });\r\n  }\r\n});\r\n\r\n// Router.get(\r\n//   \"/google\",\r\n//   passport.authenticate(\"google\", {\r\n//     scope: [\r\n//       \"https://www.googleapis.com/auth/userinfo.profile\",\r\n//       \"https://www.googleapis.com/auth/userinfo.email\",\r\n//     ],\r\n//   })\r\n// );\r\n\r\n// Router.get(\r\n//   \"/google/callback\",\r\n//   passport.authenticate(\"google\", { failureRedirect: \"/\" }),\r\n//   (req, res) => {\r\n//     // return res.status(200).json({\r\n//     //   token: req.session.passport.user.token,\r\n//     // });\r\n\r\n//     return res.redirect(\r\n//       `http://localhost:3000/google/${req.session.passport.user.token}`\r\n//     );\r\n//   }\r\n// );\r\n\r\nexport default Router;"],"mappings":";;;;;;AAAA;AAGA;AACA;AAG0C;AAN1C;;AAQA,MAAMA,MAAM,GAAGC,gBAAO,CAACD,MAAM,EAAE;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACE,IAAI,CAAC,SAAS,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACF,MAAM,IAAAC,oBAAc,EAACF,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IAC1C,MAAMC,oBAAS,CAACC,mBAAmB,CAACN,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IACzD,MAAMG,OAAO,GAAG,MAAMF,oBAAS,CAACG,MAAM,CAACR,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IAC5D,MAAMK,KAAK,GAAGF,OAAO,CAACG,gBAAgB,EAAE;IACxC,OAAOT,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,KAAK;MAAEE,MAAM,EAAE;IAAU,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOZ,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EACvD;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACAjB,MAAM,CAACE,IAAI,CAAC,SAAS,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACF,MAAM,IAAAc,oBAAc,EAACf,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IAC1C,MAAMY,IAAI,GAAG,MAAMX,oBAAS,CAACY,sBAAsB,CAACjB,GAAG,CAACG,IAAI,CAACC,WAAW,CAAC;IACzE,MAAMK,KAAK,GAAGO,IAAI,CAACN,gBAAgB,EAAE;IACrC,OAAOT,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,KAAK;MAAEE,MAAM,EAAE;IAAU,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOZ,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EACvD;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA,eAEejB,MAAM;AAAA"}},"mtime":1673097521251},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\validation\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\validation\\\\auth.validation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ValidateSignup = exports.ValidateSignin = void 0;\nvar _joi = _interopRequireDefault(require(\"joi\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst ValidateSignup = userData => {\n  const Schema = _joi.default.object({\n    fullName: _joi.default.string().required().min(5),\n    email: _joi.default.string().email().required(),\n    password: _joi.default.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\n    address: _joi.default.array().items(_joi.default.object({\n      details: _joi.default.string(),\n      for: _joi.default.string()\n    })),\n    phoneNumber: _joi.default.array().items(_joi.default.number().min(10).max(10))\n  });\n  return Schema.validateAsync(userData);\n};\nexports.ValidateSignup = ValidateSignup;\nconst ValidateSignin = userData => {\n  const Schema = _joi.default.object({\n    email: _joi.default.string().email().required(),\n    password: _joi.default.string().required()\n  });\n  return Schema.validateAsync(userData);\n};\nexports.ValidateSignin = ValidateSignin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYWxpZGF0ZVNpZ251cCIsInVzZXJEYXRhIiwiU2NoZW1hIiwiam9pIiwib2JqZWN0IiwiZnVsbE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsIm1pbiIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXR0ZXJuIiwiUmVnRXhwIiwiYWRkcmVzcyIsImFycmF5IiwiaXRlbXMiLCJkZXRhaWxzIiwiZm9yIiwicGhvbmVOdW1iZXIiLCJudW1iZXIiLCJtYXgiLCJ2YWxpZGF0ZUFzeW5jIiwiVmFsaWRhdGVTaWduaW4iXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXHZhbGlkYXRpb25cXCIsInNvdXJjZXMiOlsiYXV0aC52YWxpZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqb2kgZnJvbSBcImpvaVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZhbGlkYXRlU2lnbnVwID0gKHVzZXJEYXRhKSA9PiB7XHJcbiAgY29uc3QgU2NoZW1hID0gam9pLm9iamVjdCh7XHJcbiAgICBmdWxsTmFtZTogam9pLnN0cmluZygpLnJlcXVpcmVkKCkubWluKDUpLFxyXG4gICAgZW1haWw6IGpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXHJcbiAgICBwYXNzd29yZDogam9pLnN0cmluZygpLnBhdHRlcm4obmV3IFJlZ0V4cChcIl5bYS16QS1aMC05XXszLDMwfSRcIikpLFxyXG4gICAgYWRkcmVzczogam9pXHJcbiAgICAgIC5hcnJheSgpXHJcbiAgICAgIC5pdGVtcyhqb2kub2JqZWN0KHsgZGV0YWlsczogam9pLnN0cmluZygpLCBmb3I6IGpvaS5zdHJpbmcoKSB9KSksXHJcbiAgICBwaG9uZU51bWJlcjogam9pLmFycmF5KCkuaXRlbXMoam9pLm51bWJlcigpLm1pbigxMCkubWF4KDEwKSksXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBTY2hlbWEudmFsaWRhdGVBc3luYyh1c2VyRGF0YSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVmFsaWRhdGVTaWduaW4gPSAodXNlckRhdGEpID0+IHtcclxuICBjb25zdCBTY2hlbWEgPSBqb2kub2JqZWN0KHtcclxuICAgIGVtYWlsOiBqb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxyXG4gICAgcGFzc3dvcmQ6IGpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gU2NoZW1hLnZhbGlkYXRlQXN5bmModXNlckRhdGEpO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBc0I7QUFFZixNQUFNQSxjQUFjLEdBQUlDLFFBQVEsSUFBSztFQUMxQyxNQUFNQyxNQUFNLEdBQUdDLFlBQUcsQ0FBQ0MsTUFBTSxDQUFDO0lBQ3hCQyxRQUFRLEVBQUVGLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQUNDLFFBQVEsRUFBRSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hDQyxLQUFLLEVBQUVOLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQUNHLEtBQUssRUFBRSxDQUFDRixRQUFRLEVBQUU7SUFDdENHLFFBQVEsRUFBRVAsWUFBRyxDQUFDRyxNQUFNLEVBQUUsQ0FBQ0ssT0FBTyxDQUFDLElBQUlDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ2pFQyxPQUFPLEVBQUVWLFlBQUcsQ0FDVFcsS0FBSyxFQUFFLENBQ1BDLEtBQUssQ0FBQ1osWUFBRyxDQUFDQyxNQUFNLENBQUM7TUFBRVksT0FBTyxFQUFFYixZQUFHLENBQUNHLE1BQU0sRUFBRTtNQUFFVyxHQUFHLEVBQUVkLFlBQUcsQ0FBQ0csTUFBTTtJQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2xFWSxXQUFXLEVBQUVmLFlBQUcsQ0FBQ1csS0FBSyxFQUFFLENBQUNDLEtBQUssQ0FBQ1osWUFBRyxDQUFDZ0IsTUFBTSxFQUFFLENBQUNYLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQ1ksR0FBRyxDQUFDLEVBQUUsQ0FBQztFQUM3RCxDQUFDLENBQUM7RUFFRixPQUFPbEIsTUFBTSxDQUFDbUIsYUFBYSxDQUFDcEIsUUFBUSxDQUFDO0FBQ3ZDLENBQUM7QUFBQztBQUVLLE1BQU1xQixjQUFjLEdBQUlyQixRQUFRLElBQUs7RUFDMUMsTUFBTUMsTUFBTSxHQUFHQyxZQUFHLENBQUNDLE1BQU0sQ0FBQztJQUN4QkssS0FBSyxFQUFFTixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUFDRyxLQUFLLEVBQUUsQ0FBQ0YsUUFBUSxFQUFFO0lBQ3RDRyxRQUFRLEVBQUVQLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQUNDLFFBQVE7RUFDakMsQ0FBQyxDQUFDO0VBRUYsT0FBT0wsTUFBTSxDQUFDbUIsYUFBYSxDQUFDcEIsUUFBUSxDQUFDO0FBQ3ZDLENBQUM7QUFBQyJ9","map":{"version":3,"names":["ValidateSignup","userData","Schema","joi","object","fullName","string","required","min","email","password","pattern","RegExp","address","array","items","details","for","phoneNumber","number","max","validateAsync","ValidateSignin"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\validation\\","sources":["auth.validation.js"],"sourcesContent":["import joi from \"joi\";\r\n\r\nexport const ValidateSignup = (userData) => {\r\n  const Schema = joi.object({\r\n    fullName: joi.string().required().min(5),\r\n    email: joi.string().email().required(),\r\n    password: joi.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\r\n    address: joi\r\n      .array()\r\n      .items(joi.object({ details: joi.string(), for: joi.string() })),\r\n    phoneNumber: joi.array().items(joi.number().min(10).max(10)),\r\n  });\r\n\r\n  return Schema.validateAsync(userData);\r\n};\r\n\r\nexport const ValidateSignin = (userData) => {\r\n  const Schema = joi.object({\r\n    email: joi.string().email().required(),\r\n    password: joi.string().required(),\r\n  });\r\n\r\n  return Schema.validateAsync(userData);\r\n};"],"mappings":";;;;;;AAAA;AAAsB;AAEf,MAAMA,cAAc,GAAIC,QAAQ,IAAK;EAC1C,MAAMC,MAAM,GAAGC,YAAG,CAACC,MAAM,CAAC;IACxBC,QAAQ,EAAEF,YAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC;IACxCC,KAAK,EAAEN,YAAG,CAACG,MAAM,EAAE,CAACG,KAAK,EAAE,CAACF,QAAQ,EAAE;IACtCG,QAAQ,EAAEP,YAAG,CAACG,MAAM,EAAE,CAACK,OAAO,CAAC,IAAIC,MAAM,CAAC,qBAAqB,CAAC,CAAC;IACjEC,OAAO,EAAEV,YAAG,CACTW,KAAK,EAAE,CACPC,KAAK,CAACZ,YAAG,CAACC,MAAM,CAAC;MAAEY,OAAO,EAAEb,YAAG,CAACG,MAAM,EAAE;MAAEW,GAAG,EAAEd,YAAG,CAACG,MAAM;IAAG,CAAC,CAAC,CAAC;IAClEY,WAAW,EAAEf,YAAG,CAACW,KAAK,EAAE,CAACC,KAAK,CAACZ,YAAG,CAACgB,MAAM,EAAE,CAACX,GAAG,CAAC,EAAE,CAAC,CAACY,GAAG,CAAC,EAAE,CAAC;EAC7D,CAAC,CAAC;EAEF,OAAOlB,MAAM,CAACmB,aAAa,CAACpB,QAAQ,CAAC;AACvC,CAAC;AAAC;AAEK,MAAMqB,cAAc,GAAIrB,QAAQ,IAAK;EAC1C,MAAMC,MAAM,GAAGC,YAAG,CAACC,MAAM,CAAC;IACxBK,KAAK,EAAEN,YAAG,CAACG,MAAM,EAAE,CAACG,KAAK,EAAE,CAACF,QAAQ,EAAE;IACtCG,QAAQ,EAAEP,YAAG,CAACG,MAAM,EAAE,CAACC,QAAQ;EACjC,CAAC,CAAC;EAEF,OAAOL,MAAM,CAACmB,aAAa,CAACpB,QAAQ,CAAC;AACvC,CAAC;AAAC"}},"mtime":1673092733491},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\allModels.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"TransModel\", {\n  enumerable: true,\n  get: function () {\n    return _Transaction.TransModel;\n  }\n});\nObject.defineProperty(exports, \"UserModel\", {\n  enumerable: true,\n  get: function () {\n    return _User.UserModel;\n  }\n});\nvar _User = require(\"./User\");\nvar _Transaction = require(\"./Transaction\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdFxcTW9uZXlfdHJhY2tlclxcc2VydmVyXFxkYXRhYmFzZVxcIiwic291cmNlcyI6WyJhbGxNb2RlbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4vVXNlclwiO1xyXG5pbXBvcnQgeyBUcmFuc01vZGVsIH0gZnJvbSBcIi4vVHJhbnNhY3Rpb25cIjtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBVc2VyTW9kZWwsXHJcbiAgICBUcmFuc01vZGVsXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EifQ==","map":{"version":3,"names":[],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\","sources":["allModels.js"],"sourcesContent":["import { UserModel } from \"./User\";\r\nimport { TransModel } from \"./Transaction\";\r\n\r\nexport {\r\n    UserModel,\r\n    TransModel\r\n};"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA"}},"mtime":1673081736505},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\User\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\User\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserModel = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst UserSchema = new _mongoose.default.Schema({\n  fullName: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String\n  },\n  address: [{\n    detail: {\n      type: String\n    },\n    for: {\n      type: String\n    }\n  }],\n  phoneNumber: [{\n    type: Number\n  }]\n}, {\n  timestamps: true\n});\n\n// attachments\nUserSchema.methods.generateJwtToken = function () {\n  return _jsonwebtoken.default.sign({\n    user: this._id.toString()\n  }, \"MoneyTracker\"); //MoneyTracker is secret key for token\n};\n\n// helper functions\nUserSchema.statics.findByEmailAndPhone = async ({\n  email,\n  phoneNumber\n}) => {\n  const checkUserByEmail = await UserModel.findOne({\n    email\n  });\n  const checkUserByPhone = await UserModel.findOne({\n    phoneNumber\n  });\n  if (checkUserByEmail || checkUserByPhone) {\n    throw new Error(\"User Already Exists....\");\n  }\n  return false;\n};\nUserSchema.statics.findByEmailAndPassword = async ({\n  email,\n  password\n}) => {\n  const user = await UserModel.findOne({\n    email\n  });\n  if (!user) throw new Error(\"User does not exists!!\");\n\n  // compare password\n  const doesPasswordMatch = await _bcryptjs.default.compare(password, user.password);\n  if (!doesPasswordMatch) throw new Error(\"Invalid Credentials !!\");\n  return user;\n};\nUserSchema.pre(\"save\", function (next) {\n  const user = this;\n\n  // password is modified\n  if (!user.isModified(\"password\")) return next();\n\n  // generate bcrypt salt\n  _bcryptjs.default.genSalt(8, (error, salt) => {\n    if (error) return next(error);\n\n    // hash the password\n    _bcryptjs.default.hash(user.password, salt, (error, hash) => {\n      if (error) return next(error);\n\n      // assigning hashed password\n      user.password = hash;\n      return next();\n    });\n  });\n});\nconst UserModel = _mongoose.default.model(\"users\", UserSchema);\nexports.UserModel = UserModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJmdWxsTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJhZGRyZXNzIiwiZGV0YWlsIiwiZm9yIiwicGhvbmVOdW1iZXIiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwibWV0aG9kcyIsImdlbmVyYXRlSnd0VG9rZW4iLCJqd3QiLCJzaWduIiwidXNlciIsIl9pZCIsInRvU3RyaW5nIiwic3RhdGljcyIsImZpbmRCeUVtYWlsQW5kUGhvbmUiLCJjaGVja1VzZXJCeUVtYWlsIiwiVXNlck1vZGVsIiwiZmluZE9uZSIsImNoZWNrVXNlckJ5UGhvbmUiLCJFcnJvciIsImZpbmRCeUVtYWlsQW5kUGFzc3dvcmQiLCJkb2VzUGFzc3dvcmRNYXRjaCIsImJjcnlwdCIsImNvbXBhcmUiLCJwcmUiLCJuZXh0IiwiaXNNb2RpZmllZCIsImdlblNhbHQiLCJlcnJvciIsInNhbHQiLCJoYXNoIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXGRhdGFiYXNlXFxVc2VyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcclxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBmdWxsTmFtZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgZW1haWw6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nfSxcclxuICAgIGFkZHJlc3M6IFt7ZGV0YWlsOiB7dHlwZTogU3RyaW5nfSwgZm9yOiB7dHlwZTogU3RyaW5nfX1dLFxyXG4gICAgcGhvbmVOdW1iZXI6IFt7dHlwZTogTnVtYmVyfV1cclxufSwge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIGF0dGFjaG1lbnRzXHJcblVzZXJTY2hlbWEubWV0aG9kcy5nZW5lcmF0ZUp3dFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGp3dC5zaWduKHt1c2VyOiB0aGlzLl9pZC50b1N0cmluZygpfSwgXCJNb25leVRyYWNrZXJcIik7ICAvL01vbmV5VHJhY2tlciBpcyBzZWNyZXQga2V5IGZvciB0b2tlblxyXG59O1xyXG5cclxuLy8gaGVscGVyIGZ1bmN0aW9uc1xyXG5Vc2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5RW1haWxBbmRQaG9uZSA9IGFzeW5jICh7ZW1haWwsIHBob25lTnVtYmVyfSkgPT4ge1xyXG4gICAgY29uc3QgY2hlY2tVc2VyQnlFbWFpbCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHtlbWFpbH0pO1xyXG4gICAgY29uc3QgY2hlY2tVc2VyQnlQaG9uZSA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHtwaG9uZU51bWJlcn0pO1xyXG5cclxuICAgIGlmKGNoZWNrVXNlckJ5RW1haWwgfHwgY2hlY2tVc2VyQnlQaG9uZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBBbHJlYWR5IEV4aXN0cy4uLi5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuVXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsQW5kUGFzc3dvcmQgPSBhc3luYyAoe2VtYWlsLCBwYXNzd29yZH0pID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7ZW1haWx9KTtcclxuICAgIGlmKCF1c2VyKSB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIGRvZXMgbm90IGV4aXN0cyEhXCIpO1xyXG5cclxuICAgIC8vIGNvbXBhcmUgcGFzc3dvcmRcclxuICAgIGNvbnN0IGRvZXNQYXNzd29yZE1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xyXG5cclxuICAgIGlmICghZG9lc1Bhc3N3b3JkTWF0Y2gpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQ3JlZGVudGlhbHMgISFcIik7XHJcblxyXG4gICAgcmV0dXJuIHVzZXI7XHJcbn07XHJcblxyXG5Vc2VyU2NoZW1hLnByZShcInNhdmVcIiwgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIGNvbnN0IHVzZXIgPSB0aGlzO1xyXG5cclxuICAgIC8vIHBhc3N3b3JkIGlzIG1vZGlmaWVkXHJcbiAgICBpZighdXNlci5pc01vZGlmaWVkKFwicGFzc3dvcmRcIikpXHJcbiAgICByZXR1cm4gbmV4dCgpO1xyXG5cclxuICAgIC8vIGdlbmVyYXRlIGJjcnlwdCBzYWx0XHJcbiAgICBiY3J5cHQuZ2VuU2FsdCg4LCAoZXJyb3IsIHNhbHQpID0+IHtcclxuICAgICAgICBpZihlcnJvcikgXHJcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyb3IpO1xyXG5cclxuICAgICAgICAvLyBoYXNoIHRoZSBwYXNzd29yZFxyXG4gICAgICAgIGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQsIChlcnJvciwgaGFzaCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIFxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChlcnJvcik7XHJcblxyXG4gICAgICAgICAgICAvLyBhc3NpZ25pbmcgaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHVzZXIucGFzc3dvcmQgPSBoYXNoO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwidXNlcnNcIiwgVXNlclNjaGVtYSk7Il0s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","map":{"version":3,"names":["UserSchema","mongoose","Schema","fullName","type","String","required","email","password","address","detail","for","phoneNumber","Number","timestamps","methods","generateJwtToken","jwt","sign","user","_id","toString","statics","findByEmailAndPhone","checkUserByEmail","UserModel","findOne","checkUserByPhone","Error","findByEmailAndPassword","doesPasswordMatch","bcrypt","compare","pre","next","isModified","genSalt","error","salt","hash","model"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\User\\","sources":["index.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n    fullName: {type: String, required: true},\r\n    email: {type: String, required: true},\r\n    password: {type: String},\r\n    address: [{detail: {type: String}, for: {type: String}}],\r\n    phoneNumber: [{type: Number}]\r\n}, {\r\n    timestamps: true\r\n});\r\n\r\n// attachments\r\nUserSchema.methods.generateJwtToken = function () {\r\n    return jwt.sign({user: this._id.toString()}, \"MoneyTracker\");  //MoneyTracker is secret key for token\r\n};\r\n\r\n// helper functions\r\nUserSchema.statics.findByEmailAndPhone = async ({email, phoneNumber}) => {\r\n    const checkUserByEmail = await UserModel.findOne({email});\r\n    const checkUserByPhone = await UserModel.findOne({phoneNumber});\r\n\r\n    if(checkUserByEmail || checkUserByPhone){\r\n        throw new Error(\"User Already Exists....\");\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nUserSchema.statics.findByEmailAndPassword = async ({email, password}) => {\r\n    const user = await UserModel.findOne({email});\r\n    if(!user) throw new Error(\"User does not exists!!\");\r\n\r\n    // compare password\r\n    const doesPasswordMatch = await bcrypt.compare(password, user.password);\r\n\r\n    if (!doesPasswordMatch) throw new Error(\"Invalid Credentials !!\");\r\n\r\n    return user;\r\n};\r\n\r\nUserSchema.pre(\"save\", function (next) {\r\n    const user = this;\r\n\r\n    // password is modified\r\n    if(!user.isModified(\"password\"))\r\n    return next();\r\n\r\n    // generate bcrypt salt\r\n    bcrypt.genSalt(8, (error, salt) => {\r\n        if(error) \r\n        return next(error);\r\n\r\n        // hash the password\r\n        bcrypt.hash(user.password, salt, (error, hash) => {\r\n            if (error) \r\n            return next(error);\r\n\r\n            // assigning hashed password\r\n            user.password = hash;\r\n            return next();\r\n        });\r\n    });\r\n});\r\n\r\nexport const UserModel = mongoose.model(\"users\", UserSchema);"],"mappings":";;;;;;AAAA;AACA;AACA;AAA+B;AAE/B,MAAMA,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACnCC,QAAQ,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxCC,KAAK,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACrCE,QAAQ,EAAE;IAACJ,IAAI,EAAEC;EAAM,CAAC;EACxBI,OAAO,EAAE,CAAC;IAACC,MAAM,EAAE;MAACN,IAAI,EAAEC;IAAM,CAAC;IAAEM,GAAG,EAAE;MAACP,IAAI,EAAEC;IAAM;EAAC,CAAC,CAAC;EACxDO,WAAW,EAAE,CAAC;IAACR,IAAI,EAAES;EAAM,CAAC;AAChC,CAAC,EAAE;EACCC,UAAU,EAAE;AAChB,CAAC,CAAC;;AAEF;AACAd,UAAU,CAACe,OAAO,CAACC,gBAAgB,GAAG,YAAY;EAC9C,OAAOC,qBAAG,CAACC,IAAI,CAAC;IAACC,IAAI,EAAE,IAAI,CAACC,GAAG,CAACC,QAAQ;EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,CAAE;AACnE,CAAC;;AAED;AACArB,UAAU,CAACsB,OAAO,CAACC,mBAAmB,GAAG,OAAO;EAAChB,KAAK;EAAEK;AAAW,CAAC,KAAK;EACrE,MAAMY,gBAAgB,GAAG,MAAMC,SAAS,CAACC,OAAO,CAAC;IAACnB;EAAK,CAAC,CAAC;EACzD,MAAMoB,gBAAgB,GAAG,MAAMF,SAAS,CAACC,OAAO,CAAC;IAACd;EAAW,CAAC,CAAC;EAE/D,IAAGY,gBAAgB,IAAIG,gBAAgB,EAAC;IACpC,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC9C;EAEA,OAAO,KAAK;AAChB,CAAC;AAED5B,UAAU,CAACsB,OAAO,CAACO,sBAAsB,GAAG,OAAO;EAACtB,KAAK;EAAEC;AAAQ,CAAC,KAAK;EACrE,MAAMW,IAAI,GAAG,MAAMM,SAAS,CAACC,OAAO,CAAC;IAACnB;EAAK,CAAC,CAAC;EAC7C,IAAG,CAACY,IAAI,EAAE,MAAM,IAAIS,KAAK,CAAC,wBAAwB,CAAC;;EAEnD;EACA,MAAME,iBAAiB,GAAG,MAAMC,iBAAM,CAACC,OAAO,CAACxB,QAAQ,EAAEW,IAAI,CAACX,QAAQ,CAAC;EAEvE,IAAI,CAACsB,iBAAiB,EAAE,MAAM,IAAIF,KAAK,CAAC,wBAAwB,CAAC;EAEjE,OAAOT,IAAI;AACf,CAAC;AAEDnB,UAAU,CAACiC,GAAG,CAAC,MAAM,EAAE,UAAUC,IAAI,EAAE;EACnC,MAAMf,IAAI,GAAG,IAAI;;EAEjB;EACA,IAAG,CAACA,IAAI,CAACgB,UAAU,CAAC,UAAU,CAAC,EAC/B,OAAOD,IAAI,EAAE;;EAEb;EACAH,iBAAM,CAACK,OAAO,CAAC,CAAC,EAAE,CAACC,KAAK,EAAEC,IAAI,KAAK;IAC/B,IAAGD,KAAK,EACR,OAAOH,IAAI,CAACG,KAAK,CAAC;;IAElB;IACAN,iBAAM,CAACQ,IAAI,CAACpB,IAAI,CAACX,QAAQ,EAAE8B,IAAI,EAAE,CAACD,KAAK,EAAEE,IAAI,KAAK;MAC9C,IAAIF,KAAK,EACT,OAAOH,IAAI,CAACG,KAAK,CAAC;;MAElB;MACAlB,IAAI,CAACX,QAAQ,GAAG+B,IAAI;MACpB,OAAOL,IAAI,EAAE;IACjB,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,MAAMT,SAAS,GAAGxB,iBAAQ,CAACuC,KAAK,CAAC,OAAO,EAAExC,UAAU,CAAC;AAAC"}},"mtime":1673080205235},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\Transaction\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\database\\\\Transaction\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransModel = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst TransSchema = new _mongoose.default.Schema({\n  user: [{\n    type: _mongoose.default.Types.ObjectId,\n    ref: \"users\"\n  }],\n  category: {\n    type: String,\n    required: true\n  },\n  amount: {\n    type: Number,\n    required: true\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: true\n});\nconst TransModel = _mongoose.default.model(\"transaction\", TransSchema);\nexports.TransModel = TransModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUcmFuc1NjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY2F0ZWdvcnkiLCJTdHJpbmciLCJyZXF1aXJlZCIsImFtb3VudCIsIk51bWJlciIsImRhdGUiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsInRpbWVzdGFtcHMiLCJUcmFuc01vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXGRhdGFiYXNlXFxUcmFuc2FjdGlvblxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBUcmFuc1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgdXNlcjogW3tcclxuICAgICAgICB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICByZWY6IFwidXNlcnNcIlxyXG4gICAgfV0sXHJcbiAgICBjYXRlZ29yeToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBhbW91bnQ6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgZGF0ZToge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcclxuICAgICAgfVxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFRyYW5zTW9kZWwgPSBtb25nb29zZS5tb2RlbChcInRyYW5zYWN0aW9uXCIsIFRyYW5zU2NoZW1hKTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBRWhDLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDcENDLElBQUksRUFBRSxDQUFDO0lBQ0hDLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0ksS0FBSyxDQUFDQyxRQUFRO0lBQzdCQyxHQUFHLEVBQUU7RUFDVCxDQUFDLENBQUM7RUFDRkMsUUFBUSxFQUFFO0lBQ05KLElBQUksRUFBRUssTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLE1BQU0sRUFBRTtJQUNOUCxJQUFJLEVBQUVRLE1BQU07SUFDWkYsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNERyxJQUFJLEVBQUU7SUFDSlQsSUFBSSxFQUFFVSxJQUFJO0lBQ1ZDLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtFQUNoQjtBQUNOLENBQUMsRUFBRTtFQUNDQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUssTUFBTUMsVUFBVSxHQUFHakIsaUJBQVEsQ0FBQ2tCLEtBQUssQ0FBQyxhQUFhLEVBQUVuQixXQUFXLENBQUM7QUFBQyJ9","map":{"version":3,"names":["TransSchema","mongoose","Schema","user","type","Types","ObjectId","ref","category","String","required","amount","Number","date","Date","default","now","timestamps","TransModel","model"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\database\\Transaction\\","sources":["index.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst TransSchema = new mongoose.Schema({\r\n    user: [{\r\n        type: mongoose.Types.ObjectId,\r\n        ref: \"users\"\r\n    }],\r\n    category: {\r\n        type: String,\r\n        required: true\r\n      },\r\n      amount: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      date: {\r\n        type: Date,\r\n        default: Date.now\r\n      }\r\n}, {\r\n    timestamps: true\r\n});\r\n\r\nexport const TransModel = mongoose.model(\"transaction\", TransSchema);"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,WAAW,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACpCC,IAAI,EAAE,CAAC;IACHC,IAAI,EAAEH,iBAAQ,CAACI,KAAK,CAACC,QAAQ;IAC7BC,GAAG,EAAE;EACT,CAAC,CAAC;EACFC,QAAQ,EAAE;IACNJ,IAAI,EAAEK,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,MAAM,EAAE;IACNP,IAAI,EAAEQ,MAAM;IACZF,QAAQ,EAAE;EACZ,CAAC;EACDG,IAAI,EAAE;IACJT,IAAI,EAAEU,IAAI;IACVC,OAAO,EAAED,IAAI,CAACE;EAChB;AACN,CAAC,EAAE;EACCC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEK,MAAMC,UAAU,GAAGjB,iBAAQ,CAACkB,KAAK,CAAC,aAAa,EAAEnB,WAAW,CAAC;AAAC"}},"mtime":1673155461543},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\validation\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\validation\\\\auth.validation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ValidateSignup = exports.ValidateSignin = void 0;\nvar _joi = _interopRequireDefault(require(\"joi\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst ValidateSignup = userData => {\n  const Schema = _joi.default.object({\n    fullName: _joi.default.string().required().min(5),\n    email: _joi.default.string().email().required(),\n    password: _joi.default.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\n    address: _joi.default.array().items(_joi.default.object({\n      details: _joi.default.string(),\n      for: _joi.default.string()\n    })),\n    phoneNumber: _joi.default.array().items(_joi.default.number().min(10).max(10))\n  });\n  return Schema.validateAsync(userData);\n};\nexports.ValidateSignup = ValidateSignup;\nconst ValidateSignin = userData => {\n  const Schema = _joi.default.object({\n    email: _joi.default.string().email().required(),\n    password: _joi.default.string().required()\n  });\n  return Schema.validateAsync(userData);\n};\nexports.ValidateSignin = ValidateSignin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYWxpZGF0ZVNpZ251cCIsInVzZXJEYXRhIiwiU2NoZW1hIiwiam9pIiwib2JqZWN0IiwiZnVsbE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsIm1pbiIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXR0ZXJuIiwiUmVnRXhwIiwiYWRkcmVzcyIsImFycmF5IiwiaXRlbXMiLCJkZXRhaWxzIiwiZm9yIiwicGhvbmVOdW1iZXIiLCJudW1iZXIiLCJtYXgiLCJ2YWxpZGF0ZUFzeW5jIiwiVmFsaWRhdGVTaWduaW4iXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXHZhbGlkYXRpb25cXCIsInNvdXJjZXMiOlsiYXV0aC52YWxpZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqb2kgZnJvbSBcImpvaVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZhbGlkYXRlU2lnbnVwID0gKHVzZXJEYXRhKSA9PiB7XHJcbiAgY29uc3QgU2NoZW1hID0gam9pLm9iamVjdCh7XHJcbiAgICBmdWxsTmFtZTogam9pLnN0cmluZygpLnJlcXVpcmVkKCkubWluKDUpLFxyXG4gICAgZW1haWw6IGpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXHJcbiAgICBwYXNzd29yZDogam9pLnN0cmluZygpLnBhdHRlcm4obmV3IFJlZ0V4cChcIl5bYS16QS1aMC05XXszLDMwfSRcIikpLFxyXG4gICAgYWRkcmVzczogam9pXHJcbiAgICAgIC5hcnJheSgpXHJcbiAgICAgIC5pdGVtcyhqb2kub2JqZWN0KHsgZGV0YWlsczogam9pLnN0cmluZygpLCBmb3I6IGpvaS5zdHJpbmcoKSB9KSksXHJcbiAgICBwaG9uZU51bWJlcjogam9pLmFycmF5KCkuaXRlbXMoam9pLm51bWJlcigpLm1pbigxMCkubWF4KDEwKSksXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBTY2hlbWEudmFsaWRhdGVBc3luYyh1c2VyRGF0YSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVmFsaWRhdGVTaWduaW4gPSAodXNlckRhdGEpID0+IHtcclxuICBjb25zdCBTY2hlbWEgPSBqb2kub2JqZWN0KHtcclxuICAgIGVtYWlsOiBqb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxyXG4gICAgcGFzc3dvcmQ6IGpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gU2NoZW1hLnZhbGlkYXRlQXN5bmModXNlckRhdGEpO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBc0I7QUFFZixNQUFNQSxjQUFjLEdBQUlDLFFBQVEsSUFBSztFQUMxQyxNQUFNQyxNQUFNLEdBQUdDLFlBQUcsQ0FBQ0MsTUFBTSxDQUFDO0lBQ3hCQyxRQUFRLEVBQUVGLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQUNDLFFBQVEsRUFBRSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hDQyxLQUFLLEVBQUVOLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQUNHLEtBQUssRUFBRSxDQUFDRixRQUFRLEVBQUU7SUFDdENHLFFBQVEsRUFBRVAsWUFBRyxDQUFDRyxNQUFNLEVBQUUsQ0FBQ0ssT0FBTyxDQUFDLElBQUlDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ2pFQyxPQUFPLEVBQUVWLFlBQUcsQ0FDVFcsS0FBSyxFQUFFLENBQ1BDLEtBQUssQ0FBQ1osWUFBRyxDQUFDQyxNQUFNLENBQUM7TUFBRVksT0FBTyxFQUFFYixZQUFHLENBQUNHLE1BQU0sRUFBRTtNQUFFVyxHQUFHLEVBQUVkLFlBQUcsQ0FBQ0csTUFBTTtJQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2xFWSxXQUFXLEVBQUVmLFlBQUcsQ0FBQ1csS0FBSyxFQUFFLENBQUNDLEtBQUssQ0FBQ1osWUFBRyxDQUFDZ0IsTUFBTSxFQUFFLENBQUNYLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQ1ksR0FBRyxDQUFDLEVBQUUsQ0FBQztFQUM3RCxDQUFDLENBQUM7RUFFRixPQUFPbEIsTUFBTSxDQUFDbUIsYUFBYSxDQUFDcEIsUUFBUSxDQUFDO0FBQ3ZDLENBQUM7QUFBQztBQUVLLE1BQU1xQixjQUFjLEdBQUlyQixRQUFRLElBQUs7RUFDMUMsTUFBTUMsTUFBTSxHQUFHQyxZQUFHLENBQUNDLE1BQU0sQ0FBQztJQUN4QkssS0FBSyxFQUFFTixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUFDRyxLQUFLLEVBQUUsQ0FBQ0YsUUFBUSxFQUFFO0lBQ3RDRyxRQUFRLEVBQUVQLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQUNDLFFBQVE7RUFDakMsQ0FBQyxDQUFDO0VBRUYsT0FBT0wsTUFBTSxDQUFDbUIsYUFBYSxDQUFDcEIsUUFBUSxDQUFDO0FBQ3ZDLENBQUM7QUFBQyJ9","map":{"version":3,"names":["ValidateSignup","userData","Schema","joi","object","fullName","string","required","min","email","password","pattern","RegExp","address","array","items","details","for","phoneNumber","number","max","validateAsync","ValidateSignin"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\validation\\","sources":["auth.validation.js"],"sourcesContent":["import joi from \"joi\";\r\n\r\nexport const ValidateSignup = (userData) => {\r\n  const Schema = joi.object({\r\n    fullName: joi.string().required().min(5),\r\n    email: joi.string().email().required(),\r\n    password: joi.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\r\n    address: joi\r\n      .array()\r\n      .items(joi.object({ details: joi.string(), for: joi.string() })),\r\n    phoneNumber: joi.array().items(joi.number().min(10).max(10)),\r\n  });\r\n\r\n  return Schema.validateAsync(userData);\r\n};\r\n\r\nexport const ValidateSignin = (userData) => {\r\n  const Schema = joi.object({\r\n    email: joi.string().email().required(),\r\n    password: joi.string().required(),\r\n  });\r\n\r\n  return Schema.validateAsync(userData);\r\n};"],"mappings":";;;;;;AAAA;AAAsB;AAEf,MAAMA,cAAc,GAAIC,QAAQ,IAAK;EAC1C,MAAMC,MAAM,GAAGC,YAAG,CAACC,MAAM,CAAC;IACxBC,QAAQ,EAAEF,YAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC;IACxCC,KAAK,EAAEN,YAAG,CAACG,MAAM,EAAE,CAACG,KAAK,EAAE,CAACF,QAAQ,EAAE;IACtCG,QAAQ,EAAEP,YAAG,CAACG,MAAM,EAAE,CAACK,OAAO,CAAC,IAAIC,MAAM,CAAC,qBAAqB,CAAC,CAAC;IACjEC,OAAO,EAAEV,YAAG,CACTW,KAAK,EAAE,CACPC,KAAK,CAACZ,YAAG,CAACC,MAAM,CAAC;MAAEY,OAAO,EAAEb,YAAG,CAACG,MAAM,EAAE;MAAEW,GAAG,EAAEd,YAAG,CAACG,MAAM;IAAG,CAAC,CAAC,CAAC;IAClEY,WAAW,EAAEf,YAAG,CAACW,KAAK,EAAE,CAACC,KAAK,CAACZ,YAAG,CAACgB,MAAM,EAAE,CAACX,GAAG,CAAC,EAAE,CAAC,CAACY,GAAG,CAAC,EAAE,CAAC;EAC7D,CAAC,CAAC;EAEF,OAAOlB,MAAM,CAACmB,aAAa,CAACpB,QAAQ,CAAC;AACvC,CAAC;AAAC;AAEK,MAAMqB,cAAc,GAAIrB,QAAQ,IAAK;EAC1C,MAAMC,MAAM,GAAGC,YAAG,CAACC,MAAM,CAAC;IACxBK,KAAK,EAAEN,YAAG,CAACG,MAAM,EAAE,CAACG,KAAK,EAAE,CAACF,QAAQ,EAAE;IACtCG,QAAQ,EAAEP,YAAG,CAACG,MAAM,EAAE,CAACC,QAAQ;EACjC,CAAC,CAAC;EAEF,OAAOL,MAAM,CAACmB,aAAa,CAACpB,QAAQ,CAAC;AACvC,CAAC;AAAC"}},"mtime":1673092733491},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\config\\\\route.config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _passport = require(\"passport\");\nvar _passportJwt = _interopRequireDefault(require(\"passport-jwt\"));\nvar _allModels = require(\"../database/allModels\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst JwtStrategy = _passportJwt.default.Strategy;\nconst ExtractJwt = _passportJwt.default.ExtractJwt;\n\n// Head:{\n//     authorization: 'Bearer hasvjbxcjhsdhbcmsmcwsbhcjsh'\n// }\n// extract property remove the prefix 'bearer' from token\n\nconst options = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: \"MoneyTracker\"\n};\nvar _default = passport => {\n  passport.use(new JwtStrategy(options, async (jwt__payload, done) => {\n    try {\n      const doesUserExist = await _allModels.UserModel.findById(jwt__payload.user);\n      if (!doesUserExist) return done(null, false);\n      return done(null, doesUserExist);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }));\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKd3RTdHJhdGVneSIsIkp3dFBhc3Nwb3J0IiwiU3RyYXRlZ3kiLCJFeHRyYWN0Snd0Iiwib3B0aW9ucyIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJwYXNzcG9ydCIsInVzZSIsImp3dF9fcGF5bG9hZCIsImRvbmUiLCJkb2VzVXNlckV4aXN0IiwiVXNlck1vZGVsIiwiZmluZEJ5SWQiLCJ1c2VyIiwiZXJyb3IiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcY29uZmlnXFwiLCJzb3VyY2VzIjpbInJvdXRlLmNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdXRob3JpemUgfSBmcm9tICdwYXNzcG9ydCc7XHJcbmltcG9ydCBKd3RQYXNzcG9ydCBmcm9tICdwYXNzcG9ydC1qd3QnO1xyXG5pbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tICcuLi9kYXRhYmFzZS9hbGxNb2RlbHMnO1xyXG5cclxuY29uc3QgSnd0U3RyYXRlZ3kgPSBKd3RQYXNzcG9ydC5TdHJhdGVneTtcclxuY29uc3QgRXh0cmFjdEp3dCA9IEp3dFBhc3Nwb3J0LkV4dHJhY3RKd3Q7XHJcblxyXG4vLyBIZWFkOntcclxuLy8gICAgIGF1dGhvcml6YXRpb246ICdCZWFyZXIgaGFzdmpieGNqaHNkaGJjbXNtY3dzYmhjanNoJ1xyXG4vLyB9XHJcbi8vIGV4dHJhY3QgcHJvcGVydHkgcmVtb3ZlIHRoZSBwcmVmaXggJ2JlYXJlcicgZnJvbSB0b2tlblxyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgIGp3dEZyb21SZXF1ZXN0OiBFeHRyYWN0Snd0LmZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbigpLFxyXG4gICAgc2VjcmV0T3JLZXk6IFwiTW9uZXlUcmFja2VyXCJcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChwYXNzcG9ydCkgPT4ge1xyXG4gICAgcGFzc3BvcnQudXNlKFxyXG4gICAgICAgIG5ldyBKd3RTdHJhdGVneShvcHRpb25zLCBhc3luYyAoand0X19wYXlsb2FkLCBkb25lKSA9PntcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9lc1VzZXJFeGlzdCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZChqd3RfX3BheWxvYWQudXNlcik7XHJcbiAgICAgICAgICAgICAgICBpZighZG9lc1VzZXJFeGlzdCkgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZG9lc1VzZXJFeGlzdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbn0gOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQWtEO0FBRWxELE1BQU1BLFdBQVcsR0FBR0Msb0JBQVcsQ0FBQ0MsUUFBUTtBQUN4QyxNQUFNQyxVQUFVLEdBQUdGLG9CQUFXLENBQUNFLFVBQVU7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1DLE9BQU8sR0FBRztFQUNaQyxjQUFjLEVBQUVGLFVBQVUsQ0FBQ0csMkJBQTJCLEVBQUU7RUFDeERDLFdBQVcsRUFBRTtBQUNqQixDQUFDO0FBQUMsZUFFY0MsUUFBUSxJQUFLO0VBQ3pCQSxRQUFRLENBQUNDLEdBQUcsQ0FDUixJQUFJVCxXQUFXLENBQUNJLE9BQU8sRUFBRSxPQUFPTSxZQUFZLEVBQUVDLElBQUksS0FBSTtJQUNsRCxJQUFHO01BQ0MsTUFBTUMsYUFBYSxHQUFHLE1BQU1DLG9CQUFTLENBQUNDLFFBQVEsQ0FBQ0osWUFBWSxDQUFDSyxJQUFJLENBQUM7TUFDakUsSUFBRyxDQUFDSCxhQUFhLEVBQUUsT0FBT0QsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7TUFDM0MsT0FBT0EsSUFBSSxDQUFDLElBQUksRUFBRUMsYUFBYSxDQUFDO0lBQ3BDLENBQUMsQ0FBQyxPQUFNSSxLQUFLLEVBQUM7TUFDVixNQUFNLElBQUlDLEtBQUssQ0FBQ0QsS0FBSyxDQUFDO0lBQzFCO0VBQ0osQ0FBQyxDQUFDLENBQ0w7QUFDTCxDQUFDO0FBQUEifQ==","map":{"version":3,"names":["JwtStrategy","JwtPassport","Strategy","ExtractJwt","options","jwtFromRequest","fromAuthHeaderAsBearerToken","secretOrKey","passport","use","jwt__payload","done","doesUserExist","UserModel","findById","user","error","Error"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\config\\","sources":["route.config.js"],"sourcesContent":["import { authorize } from 'passport';\r\nimport JwtPassport from 'passport-jwt';\r\nimport { UserModel } from '../database/allModels';\r\n\r\nconst JwtStrategy = JwtPassport.Strategy;\r\nconst ExtractJwt = JwtPassport.ExtractJwt;\r\n\r\n// Head:{\r\n//     authorization: 'Bearer hasvjbxcjhsdhbcmsmcwsbhcjsh'\r\n// }\r\n// extract property remove the prefix 'bearer' from token\r\n\r\nconst options = {\r\n    jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\r\n    secretOrKey: \"MoneyTracker\"\r\n};\r\n\r\nexport default (passport) => {\r\n    passport.use(\r\n        new JwtStrategy(options, async (jwt__payload, done) =>{\r\n            try{\r\n                const doesUserExist = await UserModel.findById(jwt__payload.user);\r\n                if(!doesUserExist) return done(null, false);\r\n                return done(null, doesUserExist);\r\n            } catch(error){\r\n                throw new Error(error)\r\n            }\r\n        })\r\n    );\r\n} ;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAkD;AAElD,MAAMA,WAAW,GAAGC,oBAAW,CAACC,QAAQ;AACxC,MAAMC,UAAU,GAAGF,oBAAW,CAACE,UAAU;;AAEzC;AACA;AACA;AACA;;AAEA,MAAMC,OAAO,GAAG;EACZC,cAAc,EAAEF,UAAU,CAACG,2BAA2B,EAAE;EACxDC,WAAW,EAAE;AACjB,CAAC;AAAC,eAEcC,QAAQ,IAAK;EACzBA,QAAQ,CAACC,GAAG,CACR,IAAIT,WAAW,CAACI,OAAO,EAAE,OAAOM,YAAY,EAAEC,IAAI,KAAI;IAClD,IAAG;MACC,MAAMC,aAAa,GAAG,MAAMC,oBAAS,CAACC,QAAQ,CAACJ,YAAY,CAACK,IAAI,CAAC;MACjE,IAAG,CAACH,aAAa,EAAE,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;MAC3C,OAAOA,IAAI,CAAC,IAAI,EAAEC,aAAa,CAAC;IACpC,CAAC,CAAC,OAAMI,KAAK,EAAC;MACV,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;IAC1B;EACJ,CAAC,CAAC,CACL;AACL,CAAC;AAAA"}},"mtime":1673114168472},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\user\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\user\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _allModels = require(\"../../database/allModels\");\nvar _passport = _interopRequireDefault(require(\"passport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Router = _express.default.Router();\nRouter.get('/', _passport.default.authenticate(\"jwt\", {\n  session: false\n}),\n// to make route private\nasync (req, res) => {\n  try {\n    const users = await _allModels.UserModel.find();\n    res.send(users);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nRouter.get('/:_id', async (req, res) => {\n  try {\n    const {\n      _id\n    } = req.params;\n    const getUser = await _allModels.UserModel.findById(_id);\n    if (!getUser) {\n      return res.status(404).json({\n        error: \"User not found\"\n      });\n    }\n    const {\n      fullName\n    } = getUser;\n    return res.json({\n      user: {\n        fullName\n      }\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\nRouter.put('/update/:_id', _passport.default.authenticate(\"jwt\", {\n  session: false\n}), async (req, res) => {\n  try {\n    const {\n      _id\n    } = req.params;\n    const {\n      userData\n    } = req.body;\n    const updateUserData = await _allModels.UserModel.findByIdAndUpdate(_id, {\n      $set: userData\n    }, {\n      new: true\n    });\n    return res.json({\n      user: updateUserData\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\nRouter.delete('/:id', async (req, res) => {\n  try {\n    const user = await _allModels.UserModel.findByIdAndDelete(req.params.id);\n    if (!user) {\n      return res.status(404).send({\n        error: 'User not found'\n      });\n    }\n    res.send(user);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nvar _default = Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJleHByZXNzIiwiZ2V0IiwicGFzc3BvcnQiLCJhdXRoZW50aWNhdGUiLCJzZXNzaW9uIiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyTW9kZWwiLCJmaW5kIiwic2VuZCIsImVycm9yIiwic3RhdHVzIiwiX2lkIiwicGFyYW1zIiwiZ2V0VXNlciIsImZpbmRCeUlkIiwianNvbiIsImZ1bGxOYW1lIiwidXNlciIsIm1lc3NhZ2UiLCJwdXQiLCJ1c2VyRGF0YSIsImJvZHkiLCJ1cGRhdGVVc2VyRGF0YSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiJHNldCIsIm5ldyIsImRlbGV0ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwiaWQiXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXGFwaVxcdXNlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHtVc2VyTW9kZWx9IGZyb20gJy4uLy4uL2RhdGFiYXNlL2FsbE1vZGVscyc7XHJcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XHJcblxyXG5jb25zdCBSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuUm91dGVyLmdldCgnLycsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZShcImp3dFwiLCB7c2Vzc2lvbjogZmFsc2V9KSwgLy8gdG8gbWFrZSByb3V0ZSBwcml2YXRlXHJcbiBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXJNb2RlbC5maW5kKCk7XHJcbiAgICAgICAgcmVzLnNlbmQodXNlcnMpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycm9yKTtcclxuICAgICAgfVxyXG59KTtcclxuXHJcblJvdXRlci5nZXQoJy86X2lkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge19pZH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGdldFVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQoX2lkKTtcclxuXHJcbiAgICAgICAgaWYoIWdldFVzZXIpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOiBcIlVzZXIgbm90IGZvdW5kXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge2Z1bGxOYW1lfSA9IGdldFVzZXI7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7dXNlcjoge2Z1bGxOYW1lfX0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3Ipe1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6IGVycm9yLm1lc3NhZ2V9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5Sb3V0ZXIucHV0KCcvdXBkYXRlLzpfaWQnLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJqd3RcIiwge3Nlc3Npb246IGZhbHNlfSksXHJcbmFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge19pZH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHt1c2VyRGF0YX0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlVXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoX2lkLCB7XHJcbiAgICAgICAgICAgICRzZXQ6IHVzZXJEYXRhXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5ldzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7dXNlcjogdXBkYXRlVXNlckRhdGF9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe2Vycm9yOiBlcnJvci5tZXNzYWdlfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuUm91dGVyLmRlbGV0ZSgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZEFuZERlbGV0ZShyZXEucGFyYW1zLmlkKTtcclxuICBcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmVzLnNlbmQodXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBZ0M7QUFFaEMsTUFBTUEsTUFBTSxHQUFHQyxnQkFBTyxDQUFDRCxNQUFNLEVBQUU7QUFFL0JBLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsaUJBQVEsQ0FBQ0MsWUFBWSxDQUFDLEtBQUssRUFBRTtFQUFDQyxPQUFPLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFBRTtBQUMvRCxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNoQixJQUFJO0lBQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLG9CQUFTLENBQUNDLElBQUksRUFBRTtJQUNwQ0gsR0FBRyxDQUFDSSxJQUFJLENBQUNILEtBQUssQ0FBQztFQUNqQixDQUFDLENBQUMsT0FBT0ksS0FBSyxFQUFFO0lBQ2RMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRixJQUFJLENBQUNDLEtBQUssQ0FBQztFQUM3QjtB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","map":{"version":3,"names":["Router","express","get","passport","authenticate","session","req","res","users","UserModel","find","send","error","status","_id","params","getUser","findById","json","fullName","user","message","put","userData","body","updateUserData","findByIdAndUpdate","$set","new","delete","findByIdAndDelete","id"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\api\\user\\","sources":["index.js"],"sourcesContent":["import express from 'express';\r\nimport {UserModel} from '../../database/allModels';\r\nimport passport from 'passport';\r\n\r\nconst Router = express.Router();\r\n\r\nRouter.get('/', passport.authenticate(\"jwt\", {session: false}), // to make route private\r\n async(req, res) => {\r\n    try {\r\n        const users = await UserModel.find();\r\n        res.send(users);\r\n      } catch (error) {\r\n        res.status(500).send(error);\r\n      }\r\n});\r\n\r\nRouter.get('/:_id', async (req, res) => {\r\n    try{\r\n        const {_id} = req.params;\r\n        const getUser = await UserModel.findById(_id);\r\n\r\n        if(!getUser){\r\n            return res.status(404).json({error: \"User not found\"});\r\n        }\r\n        const {fullName} = getUser;\r\n\r\n        return res.json({user: {fullName}});\r\n    } catch (error){\r\n        return res.status(500).json({error: error.message});\r\n    }\r\n});\r\n\r\nRouter.put('/update/:_id', passport.authenticate(\"jwt\", {session: false}),\r\nasync (req, res) =>{\r\n    try{\r\n        const {_id} = req.params;\r\n        const {userData} = req.body;\r\n\r\n        const updateUserData = await UserModel.findByIdAndUpdate(_id, {\r\n            $set: userData\r\n        },\r\n        {\r\n            new: true\r\n        });\r\n        return res.json({user: updateUserData});\r\n    } catch (error){\r\n        return res.status(500).json({error: error.message});\r\n    }\r\n});\r\n\r\nRouter.delete('/:id', async (req, res) => {\r\n    try {\r\n      const user = await UserModel.findByIdAndDelete(req.params.id);\r\n  \r\n      if (!user) {\r\n        return res.status(404).send({ error: 'User not found' });\r\n      }\r\n  \r\n      res.send(user);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n\r\nexport default Router;"],"mappings":"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"}},"mtime":1673116210429},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\config\\\\route.config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _passport = require(\"passport\");\nvar _passportJwt = _interopRequireDefault(require(\"passport-jwt\"));\nvar _allModels = require(\"../database/allModels\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst JwtStrategy = _passportJwt.default.Strategy;\nconst ExtractJwt = _passportJwt.default.ExtractJwt;\n\n// Head:{\n//     authorization: 'Bearer hasvjbxcjhsdhbcmsmcwsbhcjsh'\n// }\n// extract property remove the prefix 'bearer' from token\n\nconst options = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: \"MoneyTracker\"\n};\nvar _default = passport => {\n  passport.use(new JwtStrategy(options, async (jwt__payload, done) => {\n    try {\n      const doesUserExist = await _allModels.UserModel.findById(jwt__payload.user);\n      if (!doesUserExist) return done(null, false);\n      return done(null, doesUserExist);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }));\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKd3RTdHJhdGVneSIsIkp3dFBhc3Nwb3J0IiwiU3RyYXRlZ3kiLCJFeHRyYWN0Snd0Iiwib3B0aW9ucyIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJwYXNzcG9ydCIsInVzZSIsImp3dF9fcGF5bG9hZCIsImRvbmUiLCJkb2VzVXNlckV4aXN0IiwiVXNlck1vZGVsIiwiZmluZEJ5SWQiLCJ1c2VyIiwiZXJyb3IiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcY29uZmlnXFwiLCJzb3VyY2VzIjpbInJvdXRlLmNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdXRob3JpemUgfSBmcm9tICdwYXNzcG9ydCc7XHJcbmltcG9ydCBKd3RQYXNzcG9ydCBmcm9tICdwYXNzcG9ydC1qd3QnO1xyXG5pbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tICcuLi9kYXRhYmFzZS9hbGxNb2RlbHMnO1xyXG5cclxuY29uc3QgSnd0U3RyYXRlZ3kgPSBKd3RQYXNzcG9ydC5TdHJhdGVneTtcclxuY29uc3QgRXh0cmFjdEp3dCA9IEp3dFBhc3Nwb3J0LkV4dHJhY3RKd3Q7XHJcblxyXG4vLyBIZWFkOntcclxuLy8gICAgIGF1dGhvcml6YXRpb246ICdCZWFyZXIgaGFzdmpieGNqaHNkaGJjbXNtY3dzYmhjanNoJ1xyXG4vLyB9XHJcbi8vIGV4dHJhY3QgcHJvcGVydHkgcmVtb3ZlIHRoZSBwcmVmaXggJ2JlYXJlcicgZnJvbSB0b2tlblxyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgIGp3dEZyb21SZXF1ZXN0OiBFeHRyYWN0Snd0LmZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbigpLFxyXG4gICAgc2VjcmV0T3JLZXk6IFwiTW9uZXlUcmFja2VyXCJcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChwYXNzcG9ydCkgPT4ge1xyXG4gICAgcGFzc3BvcnQudXNlKFxyXG4gICAgICAgIG5ldyBKd3RTdHJhdGVneShvcHRpb25zLCBhc3luYyAoand0X19wYXlsb2FkLCBkb25lKSA9PntcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9lc1VzZXJFeGlzdCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZChqd3RfX3BheWxvYWQudXNlcik7XHJcbiAgICAgICAgICAgICAgICBpZighZG9lc1VzZXJFeGlzdCkgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZG9lc1VzZXJFeGlzdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbn0gOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQWtEO0FBRWxELE1BQU1BLFdBQVcsR0FBR0Msb0JBQVcsQ0FBQ0MsUUFBUTtBQUN4QyxNQUFNQyxVQUFVLEdBQUdGLG9CQUFXLENBQUNFLFVBQVU7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1DLE9BQU8sR0FBRztFQUNaQyxjQUFjLEVBQUVGLFVBQVUsQ0FBQ0csMkJBQTJCLEVBQUU7RUFDeERDLFdBQVcsRUFBRTtBQUNqQixDQUFDO0FBQUMsZUFFY0MsUUFBUSxJQUFLO0VBQ3pCQSxRQUFRLENBQUNDLEdBQUcsQ0FDUixJQUFJVCxXQUFXLENBQUNJLE9BQU8sRUFBRSxPQUFPTSxZQUFZLEVBQUVDLElBQUksS0FBSTtJQUNsRCxJQUFHO01BQ0MsTUFBTUMsYUFBYSxHQUFHLE1BQU1DLG9CQUFTLENBQUNDLFFBQVEsQ0FBQ0osWUFBWSxDQUFDSyxJQUFJLENBQUM7TUFDakUsSUFBRyxDQUFDSCxhQUFhLEVBQUUsT0FBT0QsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7TUFDM0MsT0FBT0EsSUFBSSxDQUFDLElBQUksRUFBRUMsYUFBYSxDQUFDO0lBQ3BDLENBQUMsQ0FBQyxPQUFNSSxLQUFLLEVBQUM7TUFDVixNQUFNLElBQUlDLEtBQUssQ0FBQ0QsS0FBSyxDQUFDO0lBQzFCO0VBQ0osQ0FBQyxDQUFDLENBQ0w7QUFDTCxDQUFDO0FBQUEifQ==","map":{"version":3,"names":["JwtStrategy","JwtPassport","Strategy","ExtractJwt","options","jwtFromRequest","fromAuthHeaderAsBearerToken","secretOrKey","passport","use","jwt__payload","done","doesUserExist","UserModel","findById","user","error","Error"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\config\\","sources":["route.config.js"],"sourcesContent":["import { authorize } from 'passport';\r\nimport JwtPassport from 'passport-jwt';\r\nimport { UserModel } from '../database/allModels';\r\n\r\nconst JwtStrategy = JwtPassport.Strategy;\r\nconst ExtractJwt = JwtPassport.ExtractJwt;\r\n\r\n// Head:{\r\n//     authorization: 'Bearer hasvjbxcjhsdhbcmsmcwsbhcjsh'\r\n// }\r\n// extract property remove the prefix 'bearer' from token\r\n\r\nconst options = {\r\n    jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\r\n    secretOrKey: \"MoneyTracker\"\r\n};\r\n\r\nexport default (passport) => {\r\n    passport.use(\r\n        new JwtStrategy(options, async (jwt__payload, done) =>{\r\n            try{\r\n                const doesUserExist = await UserModel.findById(jwt__payload.user);\r\n                if(!doesUserExist) return done(null, false);\r\n                return done(null, doesUserExist);\r\n            } catch(error){\r\n                throw new Error(error)\r\n            }\r\n        })\r\n    );\r\n} ;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAkD;AAElD,MAAMA,WAAW,GAAGC,oBAAW,CAACC,QAAQ;AACxC,MAAMC,UAAU,GAAGF,oBAAW,CAACE,UAAU;;AAEzC;AACA;AACA;AACA;;AAEA,MAAMC,OAAO,GAAG;EACZC,cAAc,EAAEF,UAAU,CAACG,2BAA2B,EAAE;EACxDC,WAAW,EAAE;AACjB,CAAC;AAAC,eAEcC,QAAQ,IAAK;EACzBA,QAAQ,CAACC,GAAG,CACR,IAAIT,WAAW,CAACI,OAAO,EAAE,OAAOM,YAAY,EAAEC,IAAI,KAAI;IAClD,IAAG;MACC,MAAMC,aAAa,GAAG,MAAMC,oBAAS,CAACC,QAAQ,CAACJ,YAAY,CAACK,IAAI,CAAC;MACjE,IAAG,CAACH,aAAa,EAAE,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;MAC3C,OAAOA,IAAI,CAAC,IAAI,EAAEC,aAAa,CAAC;IACpC,CAAC,CAAC,OAAMI,KAAK,EAAC;MACV,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;IAC1B;EACJ,CAAC,CAAC,CACL;AACL,CAAC;AAAA"}},"mtime":1673114168472},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\user\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\user\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _allModels = require(\"../../database/allModels\");\nvar _passport = _interopRequireDefault(require(\"passport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Router = _express.default.Router();\nRouter.get('/', _passport.default.authenticate(\"jwt\", {\n  session: false\n}),\n// to make route private\nasync (req, res) => {\n  try {\n    const users = await _allModels.UserModel.find();\n    res.send(users);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nRouter.get('/:_id', async (req, res) => {\n  try {\n    const {\n      _id\n    } = req.params;\n    const getUser = await _allModels.UserModel.findById(_id);\n    if (!getUser) {\n      return res.status(404).json({\n        error: \"User not found\"\n      });\n    }\n    const {\n      fullName\n    } = getUser;\n    return res.json({\n      user: {\n        fullName\n      }\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\nRouter.put('/update/:_id', _passport.default.authenticate(\"jwt\", {\n  session: false\n}), async (req, res) => {\n  try {\n    const {\n      _id\n    } = req.params;\n    const {\n      userData\n    } = req.body;\n    const updateUserData = await _allModels.UserModel.findByIdAndUpdate(_id, {\n      $set: userData\n    }, {\n      new: true\n    });\n    return res.json({\n      user: updateUserData\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n});\nRouter.delete('/:id', async (req, res) => {\n  try {\n    const user = await _allModels.UserModel.findByIdAndDelete(req.params.id);\n    if (!user) {\n      return res.status(404).send({\n        error: 'User not found'\n      });\n    }\n    res.send(user);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nvar _default = Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJleHByZXNzIiwiZ2V0IiwicGFzc3BvcnQiLCJhdXRoZW50aWNhdGUiLCJzZXNzaW9uIiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyTW9kZWwiLCJmaW5kIiwic2VuZCIsImVycm9yIiwic3RhdHVzIiwiX2lkIiwicGFyYW1zIiwiZ2V0VXNlciIsImZpbmRCeUlkIiwianNvbiIsImZ1bGxOYW1lIiwidXNlciIsIm1lc3NhZ2UiLCJwdXQiLCJ1c2VyRGF0YSIsImJvZHkiLCJ1cGRhdGVVc2VyRGF0YSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiJHNldCIsIm5ldyIsImRlbGV0ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwiaWQiXSwic291cmNlUm9vdCI6IkQ6XFxQcm9qZWN0XFxNb25leV90cmFja2VyXFxzZXJ2ZXJcXGFwaVxcdXNlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHtVc2VyTW9kZWx9IGZyb20gJy4uLy4uL2RhdGFiYXNlL2FsbE1vZGVscyc7XHJcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XHJcblxyXG5jb25zdCBSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuUm91dGVyLmdldCgnLycsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZShcImp3dFwiLCB7c2Vzc2lvbjogZmFsc2V9KSwgLy8gdG8gbWFrZSByb3V0ZSBwcml2YXRlXHJcbiBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXJNb2RlbC5maW5kKCk7XHJcbiAgICAgICAgcmVzLnNlbmQodXNlcnMpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycm9yKTtcclxuICAgICAgfVxyXG59KTtcclxuXHJcblJvdXRlci5nZXQoJy86X2lkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge19pZH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGdldFVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQoX2lkKTtcclxuXHJcbiAgICAgICAgaWYoIWdldFVzZXIpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOiBcIlVzZXIgbm90IGZvdW5kXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge2Z1bGxOYW1lfSA9IGdldFVzZXI7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7dXNlcjoge2Z1bGxOYW1lfX0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3Ipe1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6IGVycm9yLm1lc3NhZ2V9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5Sb3V0ZXIucHV0KCcvdXBkYXRlLzpfaWQnLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJqd3RcIiwge3Nlc3Npb246IGZhbHNlfSksXHJcbmFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge19pZH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHt1c2VyRGF0YX0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlVXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoX2lkLCB7XHJcbiAgICAgICAgICAgICRzZXQ6IHVzZXJEYXRhXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5ldzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7dXNlcjogdXBkYXRlVXNlckRhdGF9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe2Vycm9yOiBlcnJvci5tZXNzYWdlfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuUm91dGVyLmRlbGV0ZSgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZEFuZERlbGV0ZShyZXEucGFyYW1zLmlkKTtcclxuICBcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmVzLnNlbmQodXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBZ0M7QUFFaEMsTUFBTUEsTUFBTSxHQUFHQyxnQkFBTyxDQUFDRCxNQUFNLEVBQUU7QUFFL0JBLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsaUJBQVEsQ0FBQ0MsWUFBWSxDQUFDLEtBQUssRUFBRTtFQUFDQyxPQUFPLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFBRTtBQUMvRCxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNoQixJQUFJO0lBQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLG9CQUFTLENBQUNDLElBQUksRUFBRTtJQUNwQ0gsR0FBRyxDQUFDSSxJQUFJLENBQUNILEtBQUssQ0FBQztFQUNqQixDQUFDLENBQUMsT0FBT0ksS0FBSyxFQUFFO0lBQ2RMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRixJQUFJLENBQUNDLEtBQUssQ0FBQztFQUM3QjtBQUNOLENBQUMsQ0FBQztBQUVGWixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsT0FBT0ksR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDcEMsSUFBRztJQUNDLE1BQU07TUFBQ087SUFBRyxDQUFDLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBTTtJQUN4QixNQUFNQyxPQUFPLEdBQUcsTUFBTVAsb0JBQVMsQ0FBQ1EsUUFBUSxDQUFDSCxHQUFHLENBQUM7SUFFN0MsSUFBRyxDQUFDRSxPQUFPLEVBQUM7TUFDUixPQUFPVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0ssSUFBSSxDQUFDO1FBQUNOLEtBQUssRUFBRTtNQUFnQixDQUFDLENBQUM7SUFDMUQ7SUFDQSxNQUFNO01BQUNPO0lBQVEsQ0FBQyxHQUFHSCxPQUFPO0lBRTFCLE9BQU9ULEdBQUcsQ0FBQ1csSUFBSSxDQUFDO01BQUNFLElBQUksRUFBRTtRQUFDRDtNQUFRO0lBQUMsQ0FBQyxDQUFDO0VBQ3ZDLENBQUMsQ0FBQyxPQUFPUCxLQUFLLEVBQUM7SUFDWCxPQUFPTCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0ssSUFBSSxDQUFDO01BQUNOLEtBQUssRUFBRUEsS0FBSyxDQUFDUztJQUFPLENBQUMsQ0FBQztFQUN2RDtBQUNKLENBQUMsQ0FBQztBQUVGckIsTUFBTSxDQUFDc0IsR0FBRyxDQUFDLGNBQWMsRUFBRW5CLGlCQUFRLENBQUNDLFlBQVksQ0FBQyxLQUFLLEVBQUU7RUFBQ0MsT0FBTyxFQUFFO0FBQUssQ0FBQyxDQUFDLEVBQ3pFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFJO0VBQ2YsSUFBRztJQUNDLE1BQU07TUFBQ087SUFBRyxDQUFDLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBTTtJQUN4QixNQUFNO01BQUNRO0lBQVEsQ0FBQyxHQUFHakIsR0FBRyxDQUFDa0IsSUFBSTtJQUUzQixNQUFNQyxjQUFjLEdBQUcsTUFBTWhCLG9CQUFTLENBQUNpQixpQkFBaUIsQ0FBQ1osR0FBRyxFQUFFO01BQzFEYSxJQUFJLEVBQUVKO0lBQ1YsQ0FBQyxFQUNEO01BQ0lLLEdBQUcsRUFBRTtJQUNULENBQUMsQ0FBQztJQUNGLE9BQU9yQixHQUFHLENBQUNXLElBQUksQ0FBQztNQUFDRSxJQUFJLEVBQUVLO0lBQWMsQ0FBQyxDQUFDO0VBQzNDLENBQUMsQ0FBQyxPQUFPYixLQUFLLEVBQUM7SUFDWCxPQUFPTCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0ssSUFBSSxDQUFDO01BQUNOLEtBQUssRUFBRUEsS0FBSyxDQUFDUztJQUFPLENBQUMsQ0FBQztFQUN2RDtBQUNKLENBQUMsQ0FBQztBQUVGckIsTUFBTSxDQUFDNkIsTUFBTSxDQUFDLE1BQU0sRUFBRSxPQUFPdkIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsSUFBSTtJQUNGLE1BQU1hLElBQUksR0FBRyxNQUFNWCxvQkFBUyxDQUFDcUIsaUJBQWlCLENBQUN4QixHQUFHLENBQUNTLE1BQU0sQ0FBQ2dCLEVBQUUsQ0FBQztJQUU3RCxJQUFJLENBQUNYLElBQUksRUFBRTtNQUNULE9BQU9iLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRixJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFFO01BQWlCLENBQUMsQ0FBQztJQUMxRDtJQUVBTCxHQUFHLENBQUNJLElBQUksQ0FBQ1MsSUFBSSxDQUFDO0VBQ2hCLENBQUMsQ0FBQyxPQUFPUixLQUFLLEVBQUU7SUFDZEwsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQ0MsS0FBSyxDQUFDO0VBQzdCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsZUFFVVosTUFBTTtBQUFBIn0=","map":{"version":3,"names":["Router","express","get","passport","authenticate","session","req","res","users","UserModel","find","send","error","status","_id","params","getUser","findById","json","fullName","user","message","put","userData","body","updateUserData","findByIdAndUpdate","$set","new","delete","findByIdAndDelete","id"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\api\\user\\","sources":["index.js"],"sourcesContent":["import express from 'express';\r\nimport {UserModel} from '../../database/allModels';\r\nimport passport from 'passport';\r\n\r\nconst Router = express.Router();\r\n\r\nRouter.get('/', passport.authenticate(\"jwt\", {session: false}), // to make route private\r\n async(req, res) => {\r\n    try {\r\n        const users = await UserModel.find();\r\n        res.send(users);\r\n      } catch (error) {\r\n        res.status(500).send(error);\r\n      }\r\n});\r\n\r\nRouter.get('/:_id', async (req, res) => {\r\n    try{\r\n        const {_id} = req.params;\r\n        const getUser = await UserModel.findById(_id);\r\n\r\n        if(!getUser){\r\n            return res.status(404).json({error: \"User not found\"});\r\n        }\r\n        const {fullName} = getUser;\r\n\r\n        return res.json({user: {fullName}});\r\n    } catch (error){\r\n        return res.status(500).json({error: error.message});\r\n    }\r\n});\r\n\r\nRouter.put('/update/:_id', passport.authenticate(\"jwt\", {session: false}),\r\nasync (req, res) =>{\r\n    try{\r\n        const {_id} = req.params;\r\n        const {userData} = req.body;\r\n\r\n        const updateUserData = await UserModel.findByIdAndUpdate(_id, {\r\n            $set: userData\r\n        },\r\n        {\r\n            new: true\r\n        });\r\n        return res.json({user: updateUserData});\r\n    } catch (error){\r\n        return res.status(500).json({error: error.message});\r\n    }\r\n});\r\n\r\nRouter.delete('/:id', async (req, res) => {\r\n    try {\r\n      const user = await UserModel.findByIdAndDelete(req.params.id);\r\n  \r\n      if (!user) {\r\n        return res.status(404).send({ error: 'User not found' });\r\n      }\r\n  \r\n      res.send(user);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n\r\nexport default Router;"],"mappings":"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"}},"mtime":1673116210429},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\transaction\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\transaction\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _allModels = require(\"../../database/allModels\");\nvar _passport = _interopRequireDefault(require(\"passport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Router = _express.default.Router();\nRouter.post('/', async (req, res) => {\n  try {\n    const transaction = await _allModels.TransModel.create(req.body.details);\n    await transaction.save();\n    res.send(transaction);\n  } catch (error) {\n    res.status(400).send(error);\n  }\n});\nRouter.get('/', async (req, res) => {\n  try {\n    const transactions = await _allModels.TransModel.find();\n    res.send(transactions);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nRouter.get('/:id', async (req, res) => {\n  try {\n    const transaction = await _allModels.TransModel.findById(req.params.id);\n    if (!transaction) {\n      return res.status(404).send({\n        error: 'Transaction not found'\n      });\n    }\n    res.send(transaction);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nRouter.patch('/:id', async (req, res) => {\n  const updates = Object.keys(req.body);\n  const allowedUpdates = ['user', 'category', 'amount'];\n  const isValidOperation = updates.every(update => allowedUpdates.includes(update));\n  if (!isValidOperation) {\n    return res.status(400).send({\n      error: 'Invalid updates'\n    });\n  }\n  try {\n    const transaction = await _allModels.TransModel.findByIdAndUpdate(req.params.id, req.body, {\n      new: true,\n      runValidators: true\n    });\n    if (!transaction) {\n      return res.status(404).send({\n        error: 'Transaction not found'\n      });\n    }\n    res.send(transaction);\n  } catch (error) {\n    res.status(400).send(error);\n  }\n});\nRouter.delete('/:id', async (req, res) => {\n  try {\n    const transaction = await _allModels.TransModel.findByIdAndDelete(req.params.id);\n    if (!transaction) {\n      return res.status(404).send({\n        error: 'Transaction not found'\n      });\n    }\n    res.send(transaction);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nvar _default = Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJleHByZXNzIiwicG9zdCIsInJlcSIsInJlcyIsInRyYW5zYWN0aW9uIiwiVHJhbnNNb2RlbCIsImNyZWF0ZSIsImJvZHkiLCJkZXRhaWxzIiwic2F2ZSIsInNlbmQiLCJlcnJvciIsInN0YXR1cyIsImdldCIsInRyYW5zYWN0aW9ucyIsImZpbmQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicGF0Y2giLCJ1cGRhdGVzIiwiT2JqZWN0Iiwia2V5cyIsImFsbG93ZWRVcGRhdGVzIiwiaXNWYWxpZE9wZXJhdGlvbiIsImV2ZXJ5IiwidXBkYXRlIiwiaW5jbHVkZXMiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsInJ1blZhbGlkYXRvcnMiLCJkZWxldGUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcYXBpXFx0cmFuc2FjdGlvblxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHtUcmFuc01vZGVsfSBmcm9tICcuLi8uLi9kYXRhYmFzZS9hbGxNb2RlbHMnO1xyXG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xyXG5cclxuY29uc3QgUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcblJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zTW9kZWwuY3JlYXRlKHJlcS5ib2R5LmRldGFpbHMpO1xyXG4gICAgICBhd2FpdCB0cmFuc2FjdGlvbi5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHRyYW5zYWN0aW9uKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgUm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gYXdhaXQgVHJhbnNNb2RlbC5maW5kKCk7XHJcbiAgICAgIHJlcy5zZW5kKHRyYW5zYWN0aW9ucyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIFJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNNb2RlbC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBcclxuICAgICAgaWYgKCF0cmFuc2FjdGlvbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IGVycm9yOiAnVHJhbnNhY3Rpb24gbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICByZXMuc2VuZCh0cmFuc2FjdGlvbik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIFJvdXRlci5wYXRjaCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXBkYXRlcyA9IE9iamVjdC5rZXlzKHJlcS5ib2R5KTtcclxuICAgIGNvbnN0IGFsbG93ZWRVcGRhdGVzID0gWyd1c2VyJywgJ2NhdGVnb3J5JywgJ2Ftb3VudCddO1xyXG4gICAgY29uc3QgaXNWYWxpZE9wZXJhdGlvbiA9IHVwZGF0ZXMuZXZlcnkodXBkYXRlID0+IGFsbG93ZWRVcGRhdGVzLmluY2x1ZGVzKHVwZGF0ZSkpO1xyXG4gIFxyXG4gICAgaWYgKCFpc1ZhbGlkT3BlcmF0aW9uKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiAnSW52YWxpZCB1cGRhdGVzJyB9KTtcclxuICAgIH1cclxuICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSwgeyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWUgfSk7XHJcbiAgXHJcbiAgICAgIGlmICghdHJhbnNhY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1RyYW5zYWN0aW9uIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmVzLnNlbmQodHJhbnNhY3Rpb24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBSb3V0ZXIuZGVsZXRlKCcvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zTW9kZWwuZmluZEJ5SWRBbmREZWxldGUocmVxLnBhcmFtcy5pZCk7XHJcbiAgXHJcbiAgICAgIGlmICghdHJhbnNhY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1RyYW5zYWN0aW9uIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmVzLnNlbmQodHJhbnNhY3Rpb24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG5cclxuICBleHBvcnQgZGVmYXVsdCBSb3V0ZXI7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","map":{"version":3,"names":["Router","express","post","req","res","transaction","TransModel","create","body","details","save","send","error","status","get","transactions","find","findById","params","id","patch","updates","Object","keys","allowedUpdates","isValidOperation","every","update","includes","findByIdAndUpdate","new","runValidators","delete","findByIdAndDelete"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\api\\transaction\\","sources":["index.js"],"sourcesContent":["import express from 'express';\r\nimport {TransModel} from '../../database/allModels';\r\nimport passport from 'passport';\r\n\r\nconst Router = express.Router();\r\n\r\nRouter.post('/', async (req, res) => {\r\n    try {\r\n      const transaction = await TransModel.create(req.body.details);\r\n      await transaction.save();\r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(400).send(error);\r\n    }\r\n  });\r\n\r\n  Router.get('/', async (req, res) => {\r\n    try {\r\n      const transactions = await TransModel.find();\r\n      res.send(transactions);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n\r\n  Router.get('/:id', async (req, res) => {\r\n    try {\r\n      const transaction = await TransModel.findById(req.params.id);\r\n  \r\n      if (!transaction) {\r\n        return res.status(404).send({ error: 'Transaction not found' });\r\n      }\r\n  \r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n\r\n  Router.patch('/:id', async (req, res) => {\r\n    const updates = Object.keys(req.body);\r\n    const allowedUpdates = ['user', 'category', 'amount'];\r\n    const isValidOperation = updates.every(update => allowedUpdates.includes(update));\r\n  \r\n    if (!isValidOperation) {\r\n      return res.status(400).send({ error: 'Invalid updates' });\r\n    }\r\n  \r\n    try {\r\n      const transaction = await TransModel.findByIdAndUpdate(req.params.id, req.body, { new: true, runValidators: true });\r\n  \r\n      if (!transaction) {\r\n        return res.status(404).send({ error: 'Transaction not found' });\r\n      }\r\n  \r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(400).send(error);\r\n    }\r\n  });\r\n\r\n  Router.delete('/:id', async (req, res) => {\r\n    try {\r\n      const transaction = await TransModel.findByIdAndDelete(req.params.id);\r\n  \r\n      if (!transaction) {\r\n        return res.status(404).send({ error: 'Transaction not found' });\r\n      }\r\n  \r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n  \r\n\r\n  export default Router;"],"mappings":"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"}},"mtime":1673155124490},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\transaction\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"filename\":\"D:\\\\Project\\\\Money_tracker\\\\server\\\\api\\\\transaction\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Project\\\\Money_tracker\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _allModels = require(\"../../database/allModels\");\nvar _passport = _interopRequireDefault(require(\"passport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Router = _express.default.Router();\nRouter.post('/', async (req, res) => {\n  try {\n    const transaction = await _allModels.TransModel.create(req.body.details);\n    await transaction.save();\n    res.send(transaction);\n  } catch (error) {\n    res.status(400).send(error);\n  }\n});\nRouter.get('/', async (req, res) => {\n  try {\n    const transactions = await _allModels.TransModel.find();\n    res.send(transactions);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nRouter.get('/:id', async (req, res) => {\n  try {\n    const transaction = await _allModels.TransModel.findById(req.params.id);\n    if (!transaction) {\n      return res.status(404).send({\n        error: 'Transaction not found'\n      });\n    }\n    res.send(transaction);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nRouter.patch('/:id', async (req, res) => {\n  const updates = Object.keys(req.body);\n  const allowedUpdates = ['user', 'category', 'amount'];\n  const isValidOperation = updates.every(update => allowedUpdates.includes(update));\n  if (!isValidOperation) {\n    return res.status(400).send({\n      error: 'Invalid updates'\n    });\n  }\n  try {\n    const transaction = await _allModels.TransModel.findByIdAndUpdate(req.params.id, req.body, {\n      new: true,\n      runValidators: true\n    });\n    if (!transaction) {\n      return res.status(404).send({\n        error: 'Transaction not found'\n      });\n    }\n    res.send(transaction);\n  } catch (error) {\n    res.status(400).send(error);\n  }\n});\nRouter.delete('/:id', async (req, res) => {\n  try {\n    const transaction = await _allModels.TransModel.findByIdAndDelete(req.params.id);\n    if (!transaction) {\n      return res.status(404).send({\n        error: 'Transaction not found'\n      });\n    }\n    res.send(transaction);\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nvar _default = Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJleHByZXNzIiwicG9zdCIsInJlcSIsInJlcyIsInRyYW5zYWN0aW9uIiwiVHJhbnNNb2RlbCIsImNyZWF0ZSIsImJvZHkiLCJkZXRhaWxzIiwic2F2ZSIsInNlbmQiLCJlcnJvciIsInN0YXR1cyIsImdldCIsInRyYW5zYWN0aW9ucyIsImZpbmQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicGF0Y2giLCJ1cGRhdGVzIiwiT2JqZWN0Iiwia2V5cyIsImFsbG93ZWRVcGRhdGVzIiwiaXNWYWxpZE9wZXJhdGlvbiIsImV2ZXJ5IiwidXBkYXRlIiwiaW5jbHVkZXMiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsInJ1blZhbGlkYXRvcnMiLCJkZWxldGUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RcXE1vbmV5X3RyYWNrZXJcXHNlcnZlclxcYXBpXFx0cmFuc2FjdGlvblxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHtUcmFuc01vZGVsfSBmcm9tICcuLi8uLi9kYXRhYmFzZS9hbGxNb2RlbHMnO1xyXG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xyXG5cclxuY29uc3QgUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcblJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zTW9kZWwuY3JlYXRlKHJlcS5ib2R5LmRldGFpbHMpO1xyXG4gICAgICBhd2FpdCB0cmFuc2FjdGlvbi5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHRyYW5zYWN0aW9uKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgUm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gYXdhaXQgVHJhbnNNb2RlbC5maW5kKCk7XHJcbiAgICAgIHJlcy5zZW5kKHRyYW5zYWN0aW9ucyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIFJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNNb2RlbC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBcclxuICAgICAgaWYgKCF0cmFuc2FjdGlvbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IGVycm9yOiAnVHJhbnNhY3Rpb24gbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICByZXMuc2VuZCh0cmFuc2FjdGlvbik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIFJvdXRlci5wYXRjaCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXBkYXRlcyA9IE9iamVjdC5rZXlzKHJlcS5ib2R5KTtcclxuICAgIGNvbnN0IGFsbG93ZWRVcGRhdGVzID0gWyd1c2VyJywgJ2NhdGVnb3J5JywgJ2Ftb3VudCddO1xyXG4gICAgY29uc3QgaXNWYWxpZE9wZXJhdGlvbiA9IHVwZGF0ZXMuZXZlcnkodXBkYXRlID0+IGFsbG93ZWRVcGRhdGVzLmluY2x1ZGVzKHVwZGF0ZSkpO1xyXG4gIFxyXG4gICAgaWYgKCFpc1ZhbGlkT3BlcmF0aW9uKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiAnSW52YWxpZCB1cGRhdGVzJyB9KTtcclxuICAgIH1cclxuICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSwgeyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWUgfSk7XHJcbiAgXHJcbiAgICAgIGlmICghdHJhbnNhY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1RyYW5zYWN0aW9uIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmVzLnNlbmQodHJhbnNhY3Rpb24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBSb3V0ZXIuZGVsZXRlKCcvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zTW9kZWwuZmluZEJ5SWRBbmREZWxldGUocmVxLnBhcmFtcy5pZCk7XHJcbiAgXHJcbiAgICAgIGlmICghdHJhbnNhY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1RyYW5zYWN0aW9uIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmVzLnNlbmQodHJhbnNhY3Rpb24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG5cclxuICBleHBvcnQgZGVmYXVsdCBSb3V0ZXI7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","map":{"version":3,"names":["Router","express","post","req","res","transaction","TransModel","create","body","details","save","send","error","status","get","transactions","find","findById","params","id","patch","updates","Object","keys","allowedUpdates","isValidOperation","every","update","includes","findByIdAndUpdate","new","runValidators","delete","findByIdAndDelete"],"sourceRoot":"D:\\Project\\Money_tracker\\server\\api\\transaction\\","sources":["index.js"],"sourcesContent":["import express from 'express';\r\nimport {TransModel} from '../../database/allModels';\r\nimport passport from 'passport';\r\n\r\nconst Router = express.Router();\r\n\r\nRouter.post('/', async (req, res) => {\r\n    try {\r\n      const transaction = await TransModel.create(req.body.details);\r\n      await transaction.save();\r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(400).send(error);\r\n    }\r\n  });\r\n\r\n  Router.get('/', async (req, res) => {\r\n    try {\r\n      const transactions = await TransModel.find();\r\n      res.send(transactions);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n\r\n  Router.get('/:id', async (req, res) => {\r\n    try {\r\n      const transaction = await TransModel.findById(req.params.id);\r\n  \r\n      if (!transaction) {\r\n        return res.status(404).send({ error: 'Transaction not found' });\r\n      }\r\n  \r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n\r\n  Router.patch('/:id', async (req, res) => {\r\n    const updates = Object.keys(req.body);\r\n    const allowedUpdates = ['user', 'category', 'amount'];\r\n    const isValidOperation = updates.every(update => allowedUpdates.includes(update));\r\n  \r\n    if (!isValidOperation) {\r\n      return res.status(400).send({ error: 'Invalid updates' });\r\n    }\r\n  \r\n    try {\r\n      const transaction = await TransModel.findByIdAndUpdate(req.params.id, req.body, { new: true, runValidators: true });\r\n  \r\n      if (!transaction) {\r\n        return res.status(404).send({ error: 'Transaction not found' });\r\n      }\r\n  \r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(400).send(error);\r\n    }\r\n  });\r\n\r\n  Router.delete('/:id', async (req, res) => {\r\n    try {\r\n      const transaction = await TransModel.findByIdAndDelete(req.params.id);\r\n  \r\n      if (!transaction) {\r\n        return res.status(404).send({ error: 'Transaction not found' });\r\n      }\r\n  \r\n      res.send(transaction);\r\n    } catch (error) {\r\n      res.status(500).send(error);\r\n    }\r\n  });\r\n  \r\n\r\n  export default Router;"],"mappings":"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"}},"mtime":1673155124490}}